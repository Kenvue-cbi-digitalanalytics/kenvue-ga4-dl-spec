{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Kenvue Data Layer Specifications Home","text":""},{"location":"#overview","title":"Overview","text":"<p>This repository contains the necessary specifications to build an Event Driven Data Layer.</p>"},{"location":"#events","title":"Events","text":"<p>Each file inside the events folder corresponds to a single use case or site event that needs to be implemented.</p> <p>These will be used to share data with Google Tag Manager on desktop and will be sent directly to Google Analytics 4 on mobile.</p>"},{"location":"#conventions","title":"Conventions","text":""},{"location":"#code-samples","title":"Code samples","text":"<p>We defer to stylistic preferences in the target codebase, but here are the JavaScript conventions we use in our code samples:</p> <ul> <li>Double quotes instead of single quotes in object properties</li> <li>No trailing commas</li> <li>Semicolons required</li> </ul>"},{"location":"#questionscomments","title":"Questions/Comments","text":"<p>For any questions or comments, please contact steven.rowe@kenvue.com.</p>"},{"location":"data-attributes/all_components/","title":"All components","text":"<p>Add the following attributes to the outermost HTML element of every component.</p>"},{"location":"data-attributes/all_components/#html-data-attributes","title":"HTML Data Attributes","text":"<pre><code>&lt;div\n  data-layer-component=\"&lt;component&gt;\"\n&gt;\n</code></pre>"},{"location":"data-attributes/all_components/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Pattern Min Length Max Length Minimum Maximum Multiple Of component string required The name of the component Carousel:Wrapper"},{"location":"data-attributes/forms/","title":"Forms","text":"<p>Add the following attributes to every form HTML element.</p>"},{"location":"data-attributes/forms/#html-data-attributes","title":"HTML Data Attributes","text":"<pre><code>&lt;form\n  data-layer-identifier=\"&lt;identifier&gt;\"\n  data-layer-name=\"&lt;name&gt;\"\n&gt;\n</code></pre>"},{"location":"data-attributes/forms/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Pattern Min Length Max Length Minimum Maximum Multiple Of identifier string recommended The form machine-readable name. This should be a unique value specific to this form, if one exists. If one does not exist, this can also be populated with the same value as the . ecp_locator, free_trial name string required The form human-readable name. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify the form with. It should be lowercase snake_case. ecp_locator, free_trial"},{"location":"data-attributes/layout/","title":"Layout","text":"<p>Add the following attributes to the outermost HTML of each layout region.</p>"},{"location":"data-attributes/layout/#html-data-attributes","title":"HTML Data Attributes","text":"<pre><code>&lt;div\n  data-layer-region=\"&lt;region&gt;\"\n&gt;\n</code></pre>"},{"location":"data-attributes/layout/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Pattern Min Length Max Length Minimum Maximum Multiple Of region string required The name of the region represented by the layout item header, body, footer"},{"location":"data-attributes/menus/","title":"Menus","text":"<p>Add the attribute below to each <code>&lt;li&gt;</code> within a menu component block.</p> <p>This attribute will enable the construction of a link heirarchy for menu items.</p>"},{"location":"data-attributes/menus/#html-data-attributes","title":"HTML Data Attributes","text":"<pre><code>&lt;li\n  data-layer-menu_item=\"&lt;menu_item&gt;\"\n&gt;\n</code></pre>"},{"location":"data-attributes/menus/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Pattern Min Length Max Length Minimum Maximum Multiple Of menu_item string required The text of the link contained within the <code>&lt;a&gt;</code> tag inside of the <code>&lt;li&gt;</code> Contact Us"},{"location":"events/click/","title":"Click","text":"<p>Fire whenever a user clicks on a link, that is required to be tracked.</p> <p>All outbound links are tracked automatically. Other needs to be tagged with Javascript code, described below.</p>"},{"location":"events/click/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// User clicks a non anchor tag used for an action, i.e. &lt;button&gt;\n\n// Code\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null });  // Clear the previous event_data object.\ndataLayer.push({\n  event: \"click\",\n  event_data: {\n    identifier: '&lt;identifier&gt;', // REQUIRED | string | ex. uniquely_created_id\n    name: '&lt;name&gt;', // REQUIRED | string | ex. Learn More, How it works, Ingredients, Connect\n    component_ancestry: \"&lt;component_ancestry&gt;\", // contextual | string | string - delimeted (~) | ex. hero~product carousel\n    category: \"&lt;category&gt;\", // contextual | string | ex. cta_links, wtb_links\n    category2: \"&lt;category2&gt;\", // contextual | string | ex. cta_links, wtb_links\n    category3: \"&lt;category3&gt;\", // contextual | string | ex. cta_links, wtb_links\n    category4: \"&lt;category4&gt;\", // contextual | string | ex. cta_links, wtb_links\n    category5: \"&lt;category5&gt;\", // contextual | string | ex. cta_links, wtb_links\n    link_classes: \"&lt;link_classes&gt;\", // REQUIRED | string | ex. button-red \n    link_id: \"&lt;link_id&gt;\", // REQUIRED | string | ex. submit-button\n    link_text: \"&lt;link_text&gt;\", // REQUIRED | string | ex. click here\n    link_url: \"&lt;link_url&gt;\", // REQUIRED | string | ex. https://www.example.com/form\n    link_hostname: \"&lt;link_hostname&gt;\", // REQUIRED | string | ex. https://www.example.com\n    navigation_ancestry: \"&lt;navigation_ancestry&gt;\", // contextual | string - delimeted (~) | ex. about~our ceo\n    outbound: \"&lt;outbound&gt;\", // contextual | boolean | ex. false\n    region_ancestry: \"&lt;region_ancestry&gt;\", // contextual | string - delimeted (~) | ex. header~navigation\n    protocol: \"&lt;type&gt;\" // REQUIRED | string | ex. http, https, mailto, tel\n    }\n});\n</code></pre>"},{"location":"events/click/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Maximum Length identifier <code>string</code> required The wtb-event machine-readable name. This should be a unique value specific to this piece of content, if one exists. If one does not exist, this can also be populated with the same value as the . <code>contact</code>, <code>lead_generation</code> <code>100</code> name <code>string</code> required The wtb-event human-readable name. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify the event with. It should be lowercase snake_case. <code>contact</code>, <code>lead_generation</code> <code>100</code> component_ancestry <code>string</code> contextual A delimited string showing all components in the ancestry of the link clicked <code>hero~product carousel</code> <code>100</code> category <code>string</code> contextual Optional field that enables you to assign this link a specific category. Used primarily when you want to analyze the performance of a group of links that aren't connected by component_ancestry, region_ancestry, link_url, or link_text. <code>cta_links</code>, <code>wtb_links</code> <code>100</code> category[2-5] <code>string</code> contextual Optional fields that enable you to assign this link additional subcategories beyond category. <code>cta_links</code>, <code>wtb_links</code> <code>100</code> link_classes <code>string</code> required The list of HTML/CSS classes applied to the link. <code>button-red</code> <code>100</code> link_id <code>string</code> required The HTML/CSS ID of the link. <code>submit-button</code> <code>100</code> link_text <code>string</code> required The full text of the link. <code>click here</code> <code>100</code> link_url <code>string</code> required The full URL of the link. <code>https://www.example.com/form</code> <code>100</code> link_hostname <code>string</code> required The hostname of the link. <code>https://www.example.com</code> <code>100</code> navigation_ancestry <code>string</code> contextual A delimited string showing all navigation items in the ancestry of link clicked in a multi-tiered menu <code>about~our leadership~our CEO</code> <code>100</code> outbound <code>boolean</code> contextual Does the link point to a different domain? <code>false</code> <code>100</code> region_ancestry <code>string</code> contextual A delimited string showing all regions in the ancestry of the link clicked <code>header~navigation</code> <code>100</code> protocol <code>string</code> required Records the type of link that was clicked. The type here refers to what comes before the :// on the link itself. Useful for identifying http links that should be https, as well as reporting on mailto, tel, and other alternate link types <code>http</code>, <code>https</code>, <code>tel</code>, <code>mailto</code> <code>100</code>"},{"location":"events/file_download/","title":"File Download","text":"<p>These events will be automatically detected and fired for any link clicked by the user that leads to a file.</p> <p>In case it does not happen \u2014 link to a file has to be tagged with a Javascript code, described below.</p>"},{"location":"events/file_download/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// User clicks a non anchor tag used for a file download, i.e. &lt;button&gt;\n\n// Code\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null });  // Clear the previous event_data object.\ndataLayer.push({\n  event: \"file_download\",\n  event_data: {\n    identifier: '&lt;identifier&gt;', // REQUIRED | string | ex. uniquely_created_id\n    name: '&lt;name&gt;', // REQUIRED | string | ex. Learn More, How it works, Ingredients, Connect\n    component_ancestry: \"&lt;component_ancestry&gt;\", // contextual | string | string - delimeted (~) | ex. hero~product carousel\n    link_classes: \"&lt;link_classes&gt;\", // REQUIRED | string | ex. button-red \n    link_id: \"&lt;link_id&gt;\", // REQUIRED | string | ex. submit-button\n    link_text: \"&lt;link_text&gt;\", // REQUIRED | string | ex. click here\n    link_url: \"&lt;link_url&gt;\", // REQUIRED | string | ex. https://www.example.com/form\n    link_hostname: \"&lt;link_hostname&gt;\", // REQUIRED | string | ex. https://www.example.com\n    navigation_ancestry: \"&lt;navigation_ancestry&gt;\", // contextual | string - delimeted (~) | ex. about~our ceo\n    outbound: \"&lt;outbound&gt;\", // contextual | boolean | ex. false\n    region_ancestry: \"&lt;region_ancestry&gt;\", // contextual | string - delimeted (~) | ex. header~navigation\n    protocol: \"&lt;type&gt;\" // REQUIRED | string | ex. http, https, mailto, tel\n    file_extension: \"&lt;file_extension&gt;\", // recommended | string | ex. pdf\n    file_name: \"&lt;file_name&gt;\", // recommended | string | ex. example.pdf\n  }\n});\n</code></pre>"},{"location":"events/file_download/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Maximum Length identifier <code>string</code> required The wtb-event machine-readable name. This should be a unique value specific to this piece of content, if one exists. If one does not exist, this can also be populated with the same value as the . <code>contact</code>, <code>lead_generation</code> <code>100</code> name <code>string</code> required The wtb-event human-readable name. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify the event with. It should be lowercase snake_case. <code>contact</code>, <code>lead_generation</code> <code>100</code> component_ancestry <code>string</code> contextual A delimited string showing all components in the ancestry of the link clicked <code>hero~product carousel</code> <code>100</code> link_classes <code>string</code> required The list of HTML/CSS classes applied to the link. <code>button-red</code> <code>100</code> link_id <code>string</code> required The HTML/CSS ID of the link. <code>submit-button</code> <code>100</code> link_text <code>string</code> required The full text of the link. <code>click here</code> <code>100</code> link_url <code>string</code> required The full URL of the link. <code>https://www.example.com/form</code> <code>100</code> link_hostname <code>string</code> required The hostname of the link. <code>https://www.example.com</code> <code>100</code> navigation_ancestry <code>string</code> contextual A delimited string showing all navigation items in the ancestry of link clicked in a multi-tiered menu <code>about~our leadership~our CEO</code> <code>100</code> outbound <code>boolean</code> contextual Does the link point to a different domain? <code>false</code> <code>100</code> region_ancestry <code>string</code> contextual A delimited string showing all regions in the ancestry of the link clicked <code>header~navigation</code> <code>100</code> protocol <code>string</code> required Records the type of link that was clicked. The type here refers to what comes before the :// on the link itself. Useful for identifying http links that should be https, as well as reporting on mailto, tel, and other alternate link types <code>http</code>, <code>https</code>, <code>tel</code>, <code>mailto</code> <code>100</code> file_extension <code>string</code> recommended The file extension of the file being downloaded. <code>pdf</code> <code>100</code> file_name <code>string</code> recommended The filename of the file being downloaded. <code>drug_facts.pdf</code> <code>100</code>"},{"location":"events/iframe_message/","title":"iFrame message","text":"<p>Fire whenever an iframe emits a message using the <code>window.postMessage</code> method. </p> <p>This will be automatically collected and fired through GTM for now, but the HTML data attributes should still be added if possible to help with identification.</p>"},{"location":"events/iframe_message/#html-data-attributes","title":"HTML Data Attributes","text":"<pre><code>&lt;iframe src=\"&lt;page_location&gt;\"\n  data-layer-identifier=\"&lt;identifier&gt;\"\n  data-layer-name=\"&lt;name&gt;\"\n  data-layer-category=\"&lt;category&gt;\"\n  data-layer-category2=\"&lt;category2&gt;\"\n  data-layer-page_hostname=\"&lt;page_hostname&gt;\"\n  data-layer-page_location=\"&lt;page_location&gt;\"\n&gt;\n</code></pre>"},{"location":"events/iframe_message/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// Iframe emits a message using window.postMessage method\n\n// Code\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null });  // Clear the previous event_data object.\ndataLayer.push({\n  event: 'iframe_post_message',\n  event_data: {\n    identifier: \"&lt;identifier&gt;\", // REQUIRED | string | ex. vidyard-video-embed\n    name: \"&lt;name&gt;\", // REQUIRED | string | ex. vidyard video embed\n    category: \"&lt;category&gt;\", // contextual | string | ex. audio, where to buy, video\n    category2: \"&lt;category2&gt;\", // contextual | string | ex. audio, where to buy, video\n    data: \"&lt;data&gt;\", // REQUIRED | variable | ex. {event: 'play', videoName: 'my video', videoProvider: 'vimeo'}\n    html_id: \"&lt;id&gt;\", // contextual | string | ex. hero-video\n    html_classes: \"&lt;classes&gt;\", // contextual | string | ex. audio-embed\n    html_element: \"&lt;element&gt;\", // REQUIRED | HTMLIFrameElement | ex. &lt;iframe src=\"sample.com/iframe\" ...&gt;\n    page_hostname: \"&lt;page_hostname&gt;\", // REQUIRED | string | ex. vimeo.com\n    page_location: \"&lt;page_location&gt;\", // REQUIRED | string | ex. https://www.example.com\n  }\n});\n</code></pre>"},{"location":"events/iframe_message/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Maximum Length identifier <code>string</code> contextual An ID added to the iframe via data attributes that can be used to identify which iframe sent the message <code>vidyard-video-embed</code> <code>100</code> name <code>string</code> contextual A name added to the iframe via data attributes that can be used to identify which iframe sent the message <code>vidyard video embed</code> <code>100</code> category <code>string</code> recommended A category added to the iframe via data attributes that can be used to represent what type of component/tool/widget is embedded via the iframe <code>audio</code>, <code>where to buy</code>, <code>video</code> <code>100</code> category2 <code>string</code> contextual Categories 2 - 5 can be used to further categorize the iframe audio, where to buy, video data variable required The data payload sent from the iframe <code>{event: 'play', videoName: 'this is a video', videoProvider: 'vimeo'}</code> html_id <code>string</code> contextual The iFrame HTML ID attribute. <code>hero-video</code> <code>100</code> html_classes <code>string</code> contextual The iFrame CSS classes. <code>audio-embed</code> <code>100</code> html_element HTMLIFrameElement required The iFrame HTML element. <code>&lt;iframe src=\"neutrogena.com/iframe\" ...&gt;</code> <code>100</code> page_hostname <code>string</code> required The hostname of the iFrame source. <code>vimeo.com</code> <code>100</code> page_location <code>string</code> required The full URL of the iFrame source. <code>where-to-buy.co/example</code> <code>100</code>"},{"location":"events/page_view/","title":"Page View","text":"<p>Fire whenever a user loads in a new page, whether that is done synchronously or asynchronously.</p> <p>This event should be the first pushed into the data layer on each page. Given many 3rd party scripts push events to the data layer, this event push should be placed in the page <code>&lt;head&gt;</code> and should be the first <code>&lt;script&gt;</code> tag on the page to ensure it is the first event.</p> Page Views and Virtual Page Views are now the same in GA4 <p>There is no longer a concept of virtual page view, so this event should be fired whenever a virtual page view would have been fired in the past, such as when a new screen is loaded asynchronously within an angular, react, or vue app/embed.</p>"},{"location":"events/page_view/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// User loads a new page (synchronously or asynchronously)\n// Should be the first push into dataLayer, placed in the &lt;head&gt; and ideally first &lt;script&gt; on page.\n\n// Code\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null, page_data: null, user_data: null });  // Clear the previous attributes.\ndataLayer.push({\n  event: 'page_view',\n  event_data: {\n    name: '&lt;name&gt;', // REQUIRED | string | ex. page_view, add_to_cart, purchase\n    identifier: \"&lt;identifier&gt;\" // REQUIRED | string\n},\n  page_data: {\n    page_id: '&lt;page_id&gt;', // REQUIRED | string\n    page_name: '&lt;page_name&gt;', // REQUIRED | string\n    page_url: '&lt;page_url&gt;', // optional | string\n    page_type: '&lt;page_type&gt;', // REQUIRED | string | ex. home, product category, product detail, article page\n    page_category: '&lt;category&gt;', // optional | string\n    page_referrer: '&lt;page_referrer&gt;', // REQUIRED | string\n    site_brand: '&lt;site_brand&gt;', // REQUIRED | string | ex. Neutrogena, OGX, Bebe\n    site_country: '&lt;site_country&gt;', // REQUIRED | string | ex. US, DE, AU\n    site_franchise: '&lt;site_franchise&gt;', // REQUIRED | string | ex. Essential Health, Skin Health\n    site_region: '&lt;site_region&gt;', // REQUIRED | string | ex. US, EMEA, APAC\n    user_login_state: '&lt;user_login_state&gt;' // REQUIRED | string | authenticated or anonymous\n  },\n  user_data: {\n    user_id: '&lt;user_id&gt;', // optional | string | ex. 12345...\n    user_type: '&lt;user_type&gt;' // optional | string | ex. new, returning, ...\n  }\n});\n</code></pre>"},{"location":"events/page_view/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Max Len How to test? name <code>string</code> required The human-readable event name. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify the event with. It should be lowercase snake_case. <code>page_view, add_to_cart, purchase</code> <code>100</code> Value not null or empty. Length within limit. identifier <code>string</code> required The machine-readable event identifier. This should be a unique value specific to this piece of content, if one exists. If one does not exist, this can also be populated with the same value as the name param. <code>100</code> Value not null or empty. Length within limit. page_id <code>string</code> required A durable identifier for a page that will enable measurement over time despite the page URL, title, etc changing. Generally sourced from the site content management system. <code>100</code> Value not null or empty. Length within limit. page_name <code>string</code> required A unique name for this page independent of page title. Google does not tend to use custom page names, but it's a mainstay in Adobe and therefore is included here for compatibility as well as for its usefulness generally. <code>100</code> Value not null or empty. Length within limit. page_url <code>string</code> optional The URL of the page currently being viewed. That param should be included only, if there is a risk, that we won't be able to detect a proper URL automatically \u2014\u00a0for example, if analytics is implemented in a sandboxed environment, like Shopify Web Pixel. Optional param. No need to test. page_type <code>string</code> required Used for grouping pages (or screens) into high level types. Most often aligns with page taxonomy or content type for base page. <code>home, product category, product detail, article page</code> <code>100</code> List of available values page_category <code>string</code> optional Used for grouping pages (or screens) into categories based on their content. <code>100</code> Optional param. No need to test. page_referrer <code>string</code> required Prior page viewed - for SPA portions of the site, this most likely will not be document.referrer and might need to be pulled from the prior history state or some other stored value to provide more accurate context. <code>https://www.neutrogena.com/</code> Value is an empty string \u2014 or a valid URL address. site_brand <code>string</code> required Brand the site is associated with. <code>Neutrogena, OGX, Bebe</code> <code>100</code> List of available values site_country <code>string</code> required Country the site is associated with. It must follow this ISO Standard ==&gt; Alpha-2-Codes \u2014 and consist of capital letters only. <code>US, DE, AU</code> <code>2</code> Value is a valid 2-letter country ISO code. site_franchise <code>string</code> required Franchise the site is associated with. <code>Essential Health, Skin Health</code> <code>100</code> List of available values site_region <code>string</code> required Region the site is associated with. <code>US, EMEA, APAC</code> <code>100</code> List of available values user_login_state <code>string</code> required Set on all events with the authentication status of the current visitor. <code>authenticated, anonymous</code> <code>100</code> Value is either authenticated or anonymous user_id <code>string</code> optional ID of the user currently logged in to the site, if the site offers authentication and the user is authenticated. <code>100</code> Test only if authentication is available \u2014 then, must be a valid ID as string, with length within limit, undefined object is permitted as well. user_type <code>string</code> optional Type of authenticated user. <code>100</code> Test only if authentication is available \u2014 then, must be a valid type as string, with length within limit, undefined object is permitted as well."},{"location":"events/scroll_milestone/","title":"Scroll Milestone","text":"<p>Fire when a user scrolls past a certain scroll depth. The built-in <code>scroll</code> event can be set up to automatically on 90% scroll depth, but this event will allow for more milestones to be recorded.</p>"},{"location":"events/scroll_milestone/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// User scrolls past a certain scroll depth\n\n// Code:\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null });  // Clear the previous event_data object.\ndataLayer.push({\n  event: 'scroll_milestone',\n  event_data: {\n    milestone: '&lt;milestone&gt;' // REQUIRED | string | ex. 25, 50, 75\n  }\n});\n</code></pre>"},{"location":"events/scroll_milestone/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Maximum Length milestone <code>string</code> required The depth to which user scrolled on the page. <code>25</code>,<code>50</code>,<code>75</code> <code>100</code>"},{"location":"events/share/","title":"Share","text":"<p>Fire whenever a user shares content via email or social. </p> <p>The parameters <code>page_title</code> and <code>page_location</code> are automatically sent along on each page view and should be able to contextualize this event without any additional information being needed.</p> <code>item_</code> parameters in the below schema are NOT the same as <code>item_</code> parameters found in the ecommerce items schmea. <p>The parameters found in this event are for event collection only and will not impact ecommerce-related events, dimensions, or metrics. </p>"},{"location":"events/share/#html-data-attributes","title":"HTML Data Attributes","text":"<pre><code>&lt;a href=\"&lt;link_url&gt;\"\n  data-layer-event=\"share\"\n  data-layer-content_type=\"&lt;content_type&gt;\"\n  data-layer-item_id=\"&lt;item_id&gt;\"\n  data-layer-method=\"&lt;method&gt;\"\n&gt;\n</code></pre>"},{"location":"events/share/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// User shares to social media.\n\n// Code:\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null });  // Clear the previous event_data object.\ndataLayer.push({\n  event: 'share',\n  event_data: {\n    identifier: '&lt;identifier&gt;', // REQUIRED | string | ex. contact, lead_generation\n    name: '&lt;name&gt;', // REQUIRED | string | ex. contact, lead_generation \n    content_type: '&lt;content_type&gt;', // REQUIRED | string | type of content | ex. blog, landing, content, product, video\n    item_brand: \"&lt;item_brand&gt;\", // contextual | string | ex. tylenol, zyrtec, listerine\n    item_id: \"&lt;item_id&gt;\", // contextual | string | ex. CW21001\n    item_name: \"&lt;item_name&gt;\", // contextual | string | ex. essential_foaming_cleanser \n    item_upc: \"&lt;item_upc&gt;\", // contextual | string | ex. 012345678905 (12 digits)\n    link_url: \"&lt;link_url&gt;\" // contextual | string | ex. https://www.example.com/?q=product#id\n    method: '&lt;method&gt;' // REQUIRED | string | social platform | ex. email, facebook, twitter\n  }\n});\n</code></pre>"},{"location":"events/share/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Pattern Min Length Max Length Minimum Maximum Multiple Of identifier <code>string</code> required The shared content machine-readable name. This should be a unique value specific to this piece of content, if one exists. If one does not exist, this can also be populated with the same value as the . <code>contact</code>, <code>lead_generation</code> <code>100</code> name <code>string</code> required The shared content human-readable name. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify the event with. It should be lowercase snake_case. <code>contact</code>, <code>lead_generation</code> <code>100</code> content_type <code>string</code> required The type of content shared. <code>blog</code>, <code>content</code>, <code>home</code>, <code>landing</code>, <code>product</code>, <code>video</code>, <code>livestream event</code> <code>100</code> item_brand <code>string</code> required The human-readable name of the brand. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify. It should be lowercase snake_case <code>tylenol</code>, <code>zyrtec</code>, <code>listerine</code> <code>100</code> item_id <code>string</code> required SKU ID of the product a customer is sharing. <code>CW21001</code> <code>100</code> item_name <code>string</code> required The human-readable product name of the product a customer is sharing. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify. It should be lowercase snake_case <code>essential_foaming_cleanser</code> <code>100</code> item_upc <code>string</code> contextual UPC ID of the product a customer is sharing. <code>012345678905</code> <code>100</code> link_url <code>string</code> required The full URL of the object. <code>https://www.example.com?q=product#id</code> <code>100</code> method <code>string</code> required The platform used to share content <code>email</code>, <code>facebook</code>, <code>twitter</code> <code>100</code>"},{"location":"events/accordion/collapse-accordion/","title":"Collapse Accordion","text":"<p>Fire whenever a user collapses an accordion item.</p> <p>If using data attributes, the <code>data-layer-event</code> attribute should be dynamically updated from <code>expand_accordion</code> to <code>collapse_accordion</code> whenever the accordion is expanded so this event will fire.</p>"},{"location":"events/accordion/collapse-accordion/#html-data-attributes","title":"HTML Data Attributes","text":"<pre><code>&lt;a href=\"&lt;link_url&gt;\"\n  data-layer-event=\"collapse_accordion\",\n  data-layer-identifier=\"&lt;identifier&gt;\"\n  data-layer-name=\"&lt;name&gt;\"\n  data-layer-heading=\"&lt;heading&gt;\"\n  data-layer-index=\"&lt;index&gt;\"\n  data-layer-type=\"&lt;type&gt;\"\n&gt;\n</code></pre>"},{"location":"events/accordion/collapse-accordion/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// User collapses accordion item.\n\n// Code:\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null });  // Clear the previous event_data object.\ndataLayer.push({\n  event: \"collapse_accordion\",\n  event_data: {\n    identifier: \"&lt;identifier&gt;\", // REQUIRED | string | ex. 12345abcde12345\n    name: \"&lt;name&gt;\", // REQUIRED | string | ex. FAQs, How it works, Ingredients\n    heading: \"&lt;heading&gt;\", // REQUIRED | string | ex. \"Are our products safe?\"   \n    index: \"&lt;index&gt;\", // contextual | integer | ex. 1 | min. lgth. 1 | min. 1\n    type: \"&lt;type&gt;\" // contextual | integer | ex. FAQ, product\n  }\n});\n</code></pre>"},{"location":"events/accordion/collapse-accordion/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Minimum Length Maximum Length Minimum identifier string required The computer-readable machine name of the accordion. Use UUID provided by the component. <code>12345abcde12345</code> <code>100</code> name string required The human-readable name of the accordion. If user does not input one, populate with numerical index of which accordion this is on the page (1-indexed). FAQs are the big one that currently need to be broken out in reporting, so getting a name for those should be the priority. <code>FAQs</code>, <code>How it works</code>,<code>Ingredients</code> <code>100</code> heading string required The text heading of the accordion item that was opened/closed <code>\"Are our products safe?\"</code> <code>100</code> index integer contextual The ordinal slot number of the accordion item. E.g. - the top item in the accordion will be slot 1. (1-indexed) <code>1</code> <code>1</code> <code>100</code> <code>1</code> type integer contextual The type of accordion. <code>FAQ</code>, <code>product</code>"},{"location":"events/accordion/expand-accordion/","title":"Expand Accordion","text":"<p>Fire whenever a user expands an accordion item.</p> <p>If using data attributes, the <code>data-layer-event</code> attribute should be dynamically updated from <code>collapse_accordion</code> to <code>expand_accordion</code> whenever the accordion is expanded so this event will fire.</p>"},{"location":"events/accordion/expand-accordion/#html-data-attributes","title":"HTML Data Attributes","text":"<pre><code>&lt;a href=\"&lt;link_url&gt;\"\n  data-layer-event=\"expand_accordion\",\n  data-layer-identifier=\"&lt;identifier&gt;\"\n  data-layer-name=\"&lt;name&gt;\"\n  data-layer-heading=\"&lt;heading&gt;\"\n  data-layer-index=\"&lt;index&gt;\"\n  data-layer-type=\"&lt;type&gt;\"\n&gt;\n</code></pre>"},{"location":"events/accordion/expand-accordion/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// User expands accordion item.\n\n// Code:\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null });  // Clear the previous event_data object.\ndataLayer.push({\n  event: \"expand_accordion\",\n  event_data: {\n    identifier: \"&lt;identifier&gt;\", // REQUIRED | string | ex. 12345abcde12345\n    name: \"&lt;name&gt;\", // REQUIRED | string | ex. FAQs, How it works, Ingredients\n    heading: \"&lt;heading&gt;\", // REQUIRED | string | ex. \"Are our products safe?\"   \n    index: \"&lt;index&gt;\", // contextual | integer | ex. 1 | min. lgth. 1 | min. 1\n    type: \"&lt;type&gt;\" // contextual | string | ex. FAQ, product\n  }\n});\n</code></pre>"},{"location":"events/accordion/expand-accordion/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Minimum Length Maximum Length Minimum identifier string required The computer-readable machine name of the accordion. Use UUID provided by the component. <code>12345abcde12345</code> <code>100</code> name string required The human-readable name of the accordion. If user does not input one, populate with numerical index of which accordion this is on the page (1-indexed). FAQs are the big one that currently need to be broken out in reporting, so getting a name for those should be the priority. <code>FAQs</code>, <code>How it works</code>,<code>Ingredients</code> <code>100</code> heading string required The text heading of the accordion item that was opened/closed <code>\"Are our products safe?\"</code> <code>100</code> index integer contextual The ordinal slot number of the accordion item. E.g. - the top item in the accordion will be slot 1. (1-indexed) <code>1</code> <code>1</code> <code>100</code> <code>1</code> type string contextual The type of accordion. <code>FAQ</code>, <code>product</code>"},{"location":"events/authentication/detect_user/","title":"Detect User","text":"<p>This is a conditional event that should only be fired in very specific cases. It is intended to cover cases where a user authentication system exists on the site but the user authentication state may not be known by the time the page_view event is sent. In that case, send this event as soon as the user authentication state is known.</p> <p>Warning</p> <p>Do not clear the page_data variable before setting user_login_state here as this is not a page view.</p> DO NOT populate user_id with a string value if unavailable <p>If the \"user_id\" is NOT available, DO NOT populate with an empty string (ex. \"\") or undefined as a string (ex. \"undefined\"). This value must ONLY be populated with a valid user id. If this value is not available, then either DO NOT include the parameter in the data layer push or populate with an undefined object (not a string).</p>"},{"location":"events/authentication/detect_user/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// User authentication exists, but the 'authentication state' may not be known by the time the page_view event is fired.\n// NOTE: Do not clear the page_data variable before setting user_login_state here. This is not a page view.\n\n// Code:\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null, user_data: null });  // Clear the previous event_data and user_data objects.\ndataLayer.push({\n  event: \"detect_user\",\n  page_data: {\n    user_login_state: '&lt;user_login_state&gt;', // REQUIRED | string | ex. authenticated, anonymous\n  },\n  user_data: {\n    user_id: \"&lt;user_id&gt;\", // contextual | string | ex. 1234567890\n    user_type: '&lt;user_type&gt;' // contextual | string | ex. new, returning\n  }\n});\n</code></pre>"},{"location":"events/authentication/detect_user/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Maximum Length user_id string contextual The user identifier. This should only be populated with a valid user id. This MUST NOT be populated with any other string (e.x. \"undefined\", \"null\"). Using an undefined object is permitted. <code>1234567890</code> <code>100</code> user_login_state string required Set on all events with the authentication status of the visitor. <code>authenticated</code>, <code>anonymous</code> <code>100</code> user_type string contextual Set on all events with the authentication type of the visitor are they new or returning <code>new</code>, <code>returning</code> <code>100</code>"},{"location":"events/authentication/login/","title":"Login","text":"<p>Fire whenever a user logs in to an account.</p>"},{"location":"events/authentication/login/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// User logs into an account\n\n// Code:\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null, user_data: null });  // Clear the previous event_data and user_data objects.\ndataLayer.push({\n  event: \"login\",\n  event_data: {\n    method: \"&lt;method&gt;\", // REQUIRED | string | ex. google, linkedin, email and password\n  },\n  page_data: {\n    user_login_state: '&lt;user_login_state&gt;', // REQUIRED | string | ex. authenticated, anonymous\n  },\n  user_data: {\n    user_id: \"&lt;user_id&gt;\", // contextual | string | ex. 1234567890\n    user_type: '&lt;user_type&gt;' // contextual | string | ex. new, returning\n  }\n});\n</code></pre>"},{"location":"events/authentication/login/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Maximum Length method string required The method used to login. <code>google</code>, <code>linkedin</code>, <code>email and password</code> <code>100</code> user_id string contextual The user identifier. This should only be populated with a valid user id. This MUST NOT be populated with any other string (e.x. \"undefined\", \"null\"). Using an undefined object is permitted. <code>1234567890</code> <code>100</code> user_login_state string required Set on all events with the authentication status of the visitor. <code>authenticated</code>, <code>anonymous</code> <code>100</code> user_type string contextual Set on all events with the authentication type of the visitor are they new or returning <code>new</code>, <code>returning</code> <code>100</code>"},{"location":"events/authentication/logout/","title":"Logout","text":"<p>Fire whenever a user logs out of an account.</p>"},{"location":"events/authentication/logout/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// User logs out of an account\n\n// Code:\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ user_data: null });  // Clear the previous event_data object.\ndataLayer.push({\n  event: \"logout\",\n  page_data: {\n    user_login_state: '&lt;user_login_state&gt;', // REQUIRED | string | ex. authenticated, anonymous\n  },\n  user_data: {\n    user_id: \"&lt;user_id&gt;\", // contextual | string | ex. 1234567890\n  }\n});\n</code></pre>"},{"location":"events/authentication/logout/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Maximum Length user_id string contextual The user identifier. This should only be populated with a valid user id. This MUST NOT be populated with any other string (e.x. \"undefined\", \"null\"). Using an undefined object is permitted. <code>1234567890</code> <code>100</code> user_login_state string required Set on all events with the authentication status of the visitor. <code>authenticated</code>, <code>anonymous</code> <code>100</code>"},{"location":"events/authentication/sign_up/","title":"Sign Up","text":"<p>Fire whenever a user successfully creates an account.</p>"},{"location":"events/authentication/sign_up/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// User successfully creates an account\n\n// Code:\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null });  // Clear the previous event_data object.\ndataLayer.push({\n  event: 'sign_up',\n  event_data: {\n    method: \"&lt;method&gt;\", // REQUIRED | string | ex. google, linkedin, email and password\n  },\n});\n</code></pre>"},{"location":"events/authentication/sign_up/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Maximum Length method string required The method by which a user created a new account. <code>local</code>, <code>social_login</code> <code>100</code>"},{"location":"events/authentication/sign_up_start/","title":"Sign Up Start","text":"<p>Fire whenever a user views the first step of the account creation form.</p>"},{"location":"events/authentication/sign_up_start/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// User views the first step of account creation process\n\n// Code:\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null });  // Clear the previous event_data object.\ndataLayer.push({\n  event: 'sign_up_start'\n  event_data: {\n    method: \"&lt;method&gt;\", // REQUIRED | string | ex. google, linkedin, email and password\n  },\n});\n</code></pre>"},{"location":"events/authentication/sign_up_start/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Maximum Length method string required The method by which a user created a new account. <code>local</code>, <code>social_login</code> <code>100</code>"},{"location":"events/carousel/next_carousel_slide/","title":"Next Carousel Slide","text":"<p>Fire whenever a user interacts with the next carousel slide control</p>"},{"location":"events/carousel/next_carousel_slide/#html-data-attributes","title":"HTML Data Attributes","text":"<pre><code>&lt;a href=\"&lt;link_url&gt;\"\n  data-layer-event=\"next_carousel_slide\"\n  data-layer-identifier=\"&lt;identifier&gt;\"\n  data-layer-name=\"&lt;name&gt;\"\n  data-layer-index=\"&lt;index&gt;\"\n  data-layer-target_index=\"&lt;target_index&gt;\"\n&gt;\n</code></pre>"},{"location":"events/carousel/next_carousel_slide/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// User interacts with 'next' carousel slide control\n\n// Code:\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null });  // Clear the previous event_data object.\ndataLayer.push({\n  event: \"next_carousel_slide\",\n  event_data: {\n    identifier: \"&lt;identifier&gt;\", // REQUIRED | string | ex. 12345abcde12345\n    name: \"&lt;name&gt;\", // contextual | string | ex. Most Popular Blog Posts, Homepage Main Content \n    index: \"&lt;index&gt;\", // contextual | integer | ex. 1 | min. lgth. 1 | min. 1\n    target_index: \"&lt;target_index&gt;\" // contextual | integer | ex. 2 | min. lgth. 1 | min. 1 \n  }\n});\n</code></pre>"},{"location":"events/carousel/next_carousel_slide/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Minimum Length Maximum Length Minimum identifier string required The computer-readable machine name of the carousel. Use UUID provided by the component <code>12345abcde12345</code> <code>100</code> name string contextual The human-readable name of the carousel. If user does not input one, populate with numerical index of which carousel this is on the page (1-indexed) <code>Most Popular Blog Posts</code>,<code>Homepage Main Content</code> <code>100</code> index integer contextual The slide # the carousel is on at time of interaction (1-indexed) <code>1</code> <code>1</code> <code>100</code> <code>1</code> target_index integer contextual The slide # of the target slide (1-indexed) <code>2</code> <code>1</code> <code>100</code> <code>1</code>"},{"location":"events/carousel/previous_carousel_slide/","title":"Previous Carousel Slide","text":"<p>Fire whenever a user interacts with the previous carousel slide control</p>"},{"location":"events/carousel/previous_carousel_slide/#html-data-attributes","title":"HTML Data Attributes","text":"<pre><code>&lt;a href=\"&lt;link_url&gt;\"\n  data-layer-event=\"previous_carousel_slide\"\n  data-layer-identifier=\"&lt;identifier&gt;\"\n  data-layer-name=\"&lt;name&gt;\"\n  data-layer-index=\"&lt;index&gt;\"\n  data-layer-target_index=\"&lt;target_index&gt;\"\n&gt;\n</code></pre>"},{"location":"events/carousel/previous_carousel_slide/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// User interacts with 'previous' carousel slide control\n\n// Code:\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null });  // Clear the previous event_data object.\ndataLayer.push({\n  event: 'previous_carousel_slide',\n  event_data: {\n    identifier: \"&lt;identifier&gt;\", // REQUIRED | string | ex. 12345abcde12345\n    name: \"&lt;name&gt;\", // contextual | string | ex. Most Popular Blog Posts, Homepage Main Content \n    index: \"&lt;index&gt;\", // contextual | integer | ex. 1 | min. lgth. 1 | min. 1\n    target_index: \"&lt;target_index&gt;\" // contextual | integer | ex. 2 | min. lgth. 1 | min. 1 \n  }\n});\n</code></pre>"},{"location":"events/carousel/previous_carousel_slide/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Minimum Length Maximum Length Minimum identifier string required The computer-readable machine name of the carousel. Use UUID provided by the component <code>12345abcde12345</code> <code>100</code> name string contextual The human-readable name of the carousel. If user does not input one, populate with numerical index of which carousel this is on the page (1-indexed) <code>Most Popular Blog Posts</code>,<code>Homepage Main Content</code> <code>100</code> index integer contextual The slide # the carousel is on at time of interaction (1-indexed) <code>1</code> <code>1</code> <code>100</code> <code>1</code> target_index integer contextual The slide # of the target slide (1-indexed) <code>2</code> <code>1</code> <code>100</code> <code>1</code>"},{"location":"events/carousel/specific_carousel_slide/","title":"Specific Carousel Slide","text":"<p>Fire whenever a user interacts with the specific carousel slide control</p>"},{"location":"events/carousel/specific_carousel_slide/#html-data-attributes","title":"HTML Data Attributes","text":"<pre><code>&lt;a href=\"&lt;link_url&gt;\"\n  data-layer-event=\"specific_carousel_slide\"\n  data-layer-identifier=\"&lt;identifier&gt;\"\n  data-layer-name=\"&lt;name&gt;\"\n  data-layer-index=\"&lt;index&gt;\"\n  data-layer-target_index=\"&lt;target_index&gt;\"\n&gt;\n</code></pre>"},{"location":"events/carousel/specific_carousel_slide/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// User interacts with a specific carousel slide control\n\n// Code:\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null });  // Clear the previous event_data object.\ndataLayer.push({\n  event: 'specific_carousel_slide',\n  event_data: {\n    identifier: \"&lt;identifier&gt;\", // REQUIRED | string | ex. 12345abcde12345\n    name: \"&lt;name&gt;\", // contextual | string | ex. Most Popular Blog Posts, Homepage Main Content \n    index: \"&lt;index&gt;\", // contextual | integer | ex. 1 | min. lgth. 1 | min. 1\n    target_index: \"&lt;target_index&gt;\" // contextual | integer | ex. 2 | min. lgth. 1 | min. 1 \n  }\n});\n</code></pre>"},{"location":"events/carousel/specific_carousel_slide/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Minimum Length Maximum Length Minimum identifier string required The computer-readable machine name of the carousel. Use UUID provided by the component <code>12345abcde12345</code> <code>100</code> name string contextual The human-readable name of the carousel. If user does not input one, populate with numerical index of which carousel this is on the page (1-indexed) <code>Most Popular Blog Posts</code>,<code>Homepage Main Content</code> <code>100</code> index integer contextual The slide # the carousel is on at time of interaction (1-indexed) <code>1</code> <code>1</code> <code>100</code> <code>1</code> target_index integer contextual The slide # of the target slide (1-indexed) <code>2</code> <code>1</code> <code>100</code> <code>1</code>"},{"location":"events/chat/chat_complete/","title":"Chat Complete","text":"<p>Fire whenever a user closes or otherwise completes a chat session. </p>"},{"location":"events/chat/chat_complete/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// User closes or otherwise completes a chat session\n\n// Code:\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null });  // Clear the previous event_data object.\ndataLayer.push({\n  event: 'chat_complete',\n  event_data: {\n    identifier: '&lt;identifier&gt;', // REQUIRED | string | ex. ecp_locator, free_trial\n    name: '&lt;name&gt;', // REQUIRED | string | ex. ecp_locator, free_trial\n    type: '&lt;type&gt;' // REQUIRED | string | ex. contact, lead_generation\n  }\n});\n</code></pre>"},{"location":"events/chat/chat_complete/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Maximum Length identifier string required The chat machine-readable name. This should be a unique value specific to this chat prompt, if one exists. If one does not exist, this can also be populated with the same value as the . <code>ecp_locator</code>, <code>free_trial</code> <code>100</code> name string required The chat prompt human-readable name. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify the chat with. It should be lowercase snake_case. <code>ecp_locator</code>, <code>free_trial</code> <code>100</code> type string required The chat type. This will act as a filtering mechanism in reporting to enable analysts to view chat droppoff funnels. It can also act as an internal aid in firing additional events if necessary. For instance, lead-generating chats require a <code>generate_lead</code> event to be fired alongside <code>chat_complete</code>, and that could be written into the logic based upon this field. <code>contact</code>, <code>lead_generation</code> <code>100</code>"},{"location":"events/chat/chat_error/","title":"Chat Error","text":"<p>Fire whenever a user experiences an error during a chat session.</p>"},{"location":"events/chat/chat_error/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// User experiences an error during a chat session\n\n// Code:\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null });  // Clear the previous event_data object.\ndataLayer.push({\n  event: 'chat_error',\n  event_data: {\n    error_message: '&lt;error_message&gt;', // REQUIRED | string | ex. Phone number should follow the format (xxx) xxx-xxxx, Must be a valid email address    \n    identifier: '&lt;identifier&gt;', // REQUIRED | string | ex. ecp_locator, free_trial\n    name: '&lt;name&gt;', // REQUIRED | string | ex. ecp_locator, free_trial\n    type: '&lt;type&gt;' // REQUIRED | string | ex. contact, lead_generation\n  }\n});\n</code></pre>"},{"location":"events/chat/chat_error/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Maximum Length error_message string required The specific error that occurred. If an error message is shown to the user, this should be populated with that text. <code>Phone number should follow the format (xxx) xxx-xxxx, Must be a valid email address</code> <code>100</code> identifier string required The chat machine-readable name. This should be a unique value specific to this chat prompt, if one exists. If one does not exist, this can also be populated with the same value as the . <code>ecp_locator</code>, <code>free_trial</code> <code>100</code> name string required The chat prompt human-readable name. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify the chat with. It should be lowercase snake_case. <code>ecp_locator</code>, <code>free_trial</code> <code>100</code> type string required The chat type. This will act as a filtering mechanism in reporting to enable analysts to view chat droppoff funnels. It can also act as an internal aid in firing additional events if necessary. For instance, lead-generating chats require a <code>generate_lead</code> event to be fired alongside <code>chat_complete</code>, and that could be written into the logic based upon this field. <code>contact</code>, <code>lead_generation</code> <code>100</code>"},{"location":"events/chat/chat_start/","title":"Chat Start","text":"<p>Fire whenever a user initiates a chat session. </p>"},{"location":"events/chat/chat_start/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// User initiates a chat session\n\n// Code:\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null });  // Clear the previous event_data object.\ndataLayer.push({\n  event: 'chat_start',\n  event_data: {\n    identifier: '&lt;identifier&gt;', // REQUIRED | string | ex. ecp_locator, free_trial\n    name: '&lt;name&gt;', // REQUIRED | string | ex. ecp_locator, free_trial\n    type: '&lt;type&gt;' // REQUIRED | string | ex. contact, lead_generation\n  }\n});\n</code></pre>"},{"location":"events/chat/chat_start/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Maximum Length identifier string required The chat machine-readable name. This should be a unique value specific to this chat prompt, if one exists. If one does not exist, this can also be populated with the same value as the . <code>ecp_locator</code>, <code>free_trial</code> <code>100</code> name string required The chat prompt human-readable name. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify the chat with. It should be lowercase snake_case. <code>ecp_locator</code>, <code>free_trial</code> <code>100</code> type string required The chat type. This will act as a filtering mechanism in reporting to enable analysts to view chat droppoff funnels. It can also act as an internal aid in firing additional events if necessary. For instance, lead-generating chats require a <code>generate_lead</code> event to be fired alongside <code>chat_complete</code>, and that could be written into the logic based upon this field. <code>contact</code>, <code>lead_generation</code> <code>100</code>"},{"location":"events/chat/chat_view/","title":"Chat View","text":"<p>Fire whenever a user is presented with a chat prompt on a page.</p>"},{"location":"events/chat/chat_view/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// User presented with a chat prompt on a page\n\n// Code:\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null });  // Clear the previous event_data object.\ndataLayer.push({\n  event: 'chat_view',\n  event_data: {\n    identifier: '&lt;identifier&gt;', // REQUIRED | string | ex. ecp_locator, free_trial\n    name: '&lt;name&gt;', // REQUIRED | string | ex. ecp_locator, free_trial\n    type: '&lt;type&gt;' // REQUIRED | string | ex. contact, lead_generation\n  }\n});\n</code></pre>"},{"location":"events/chat/chat_view/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Maximum Length identifier string required The chat machine-readable name. This should be a unique value specific to this chat prompt, if one exists. If one does not exist, this can also be populated with the same value as the . <code>ecp_locator</code>, <code>free_trial</code> <code>100</code> name string required The chat prompt human-readable name. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify the chat with. It should be lowercase snake_case. <code>ecp_locator</code>, <code>free_trial</code> <code>100</code> type string required The chat type. This will act as a filtering mechanism in reporting to enable analysts to view chat droppoff funnels. It can also act as an internal aid in firing additional events if necessary. For instance, lead-generating chats require a <code>generate_lead</code> event to be fired alongside <code>chat_complete</code>, and that could be written into the logic based upon this field. <code>contact</code>, <code>lead_generation</code> <code>100</code>"},{"location":"events/content/select_content/","title":"Select Content","text":"<p>Fire whenever a user clicks on a content link found in a list that forwards the user to the content page. List types include card collections, search results, carousels, and other similar components.</p> How this event is used in reporting <p>This event is to be used to understand how content is being engaged with in regard to the lists they are a part of. If an analyst is looking to report on how much a piece of content was engaged with and want/need to know the list information, they must use \"select_content\" in their GA4 report as the event and NOT \"view_content\". This is because \"view_content\" will not have associated list information.</p> <p>Pairs with the following event: - View Content List</p> <p>Warning</p> <p>Do not fire this event for content links found in menus.</p>"},{"location":"events/content/select_content/#html-data-attributes","title":"HTML Data Attributes","text":"<pre><code>&lt;a href=\"&lt;link_url&gt;\"\n  data-layer-event=\"select_content\"\n  data-layer-facets=\"&lt;facets&gt;\"\n  data-layer-identifier=\"&lt;identifier&gt;\"\n  data-layer-index=\"&lt;index&gt;\"\n  data-layer-list_type=\"&lt;list_type&gt;\"\n  data-layer-name=\"&lt;name&gt;\"\n  data-layer-search_term=\"&lt;search_term&gt;\"\n  data-layer-search_type=\"&lt;search_type&gt;\"\n&gt;\n</code></pre>"},{"location":"events/content/select_content/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// User clicks on a content link found in a list (cards, search, promotions...) that forwards to the content page\n\n// Code:\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null });  // Clear the previous event_data object.\ndataLayer.push({\n  event: \"select_content\",\n  event_data: {\n    content_type: \"&lt;content_type&gt;\", // REQUIRED | string | ex. article, blog, page  \n    facets: \"&lt;facets&gt;\", // contextual | string - double delimited (:)(~) | category:skin_health~featured_as:best_seller \n    identifier: \"&lt;identifier&gt;\", // REQUIRED | string | ex. ecp_locator, free_trial\n    index: \"&lt;index&gt;\", // REQUIRED | integer | ex. 5\n    list_type: \"&lt;list_type&gt;\", // REQUIRED | string | ex. cards, search_results  \n    name: \"&lt;name&gt;\", // REQUIRED | string | ex. purchase_product\n    search_term: \"&lt;search_term&gt;\", // contextual | string | ex. sunscreen\n    search_type: \"&lt;search_type&gt;\", // contextual | string | site, filter_by_group    \n  }\n});\n</code></pre>"},{"location":"events/content/select_content/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Maximum Length content_type <code>string</code> required The type of content selected by the user. Use \"page\" if no more specific content_type applies or if the capability to distinguish between content_types does not currenly exist. <code>article, blog, page</code> <code>100</code> facets <code>string</code> contextual A double-delimited string of key/value pairs representing the refinements that were applied to this search. Only set if the list type is a search result or filter_by_group. <code>category:skin_health~skin_concern: acne~featured_as:best_seller</code> <code>100</code> identifier <code>string</code> required The form machine-readable name. This should be a unique value specific to this piece of content, if one exists. If one does not exist, this can also be populated with the same value as the . <code>ecp_locator, free_trial</code> <code>100</code> index <code>integer</code> required The numerical index of the item position (1-indexed). For instance, if this is the 5th search result, you would send 5 here. If this is the 3rd card in a single row, send 3. If this is the 2nd item in the 3rd row of a 3-up card layout, send 8 (3 + 3 + 2). <code>5</code> <code>100</code> list_type <code>string</code> required The type of list the item was found in. <code>cards, search_results</code> <code>100</code> name <code>string</code> required The form human-readable name. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify the form with. It should be lowercase snake_case. <code>purchase_product</code> <code>100</code> search_term <code>string</code> contextual The final search term submitted after any correction has been performed. Only set if the <code>list_type</code> is <code>search_results</code>. <code>sunscreen</code> <code>100</code> search_type <code>string</code> contextual The type of search performed. Only set if the <code>list_type</code> is <code>search_results</code>. <code>site, filter_by_group</code> <code>100</code>"},{"location":"events/content/view_content/","title":"View Content","text":"<p>Fire whenever a page whose main purpose is to serve content (e.g. an article or blog post) loads.</p> <p>This event is to be used to understand when content is being viewed without any association to a \"Content List\".</p> How this event data is used in reporting <p>If an analyst is looking to report on how often a piece of content was engaged with and wants to know the list information (as opposed to how often a content page was viewed), they would use the \"select_content\" in a GA4 report (as opposed to \"view_content\"). This is because \"view_content\" will not have associated list information.</p>"},{"location":"events/content/view_content/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// User views an article, blog post, or other content-focused page\n\n// Code:\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null });  // Clear the previous event_data object.\ndataLayer.push({\n  event: \"view_content\",\n  event_data: {\n    content_type: \"&lt;content_type&gt;\", // REQUIRED | string | ex. article, blog, page      \n    identifier: \"&lt;identifier&gt;\", // REQUIRED | string | ex. ecp_locator, free_trial\n    name: \"&lt;name&gt;\", // REQUIRED | string | ex. purchase_product\n  }\n});\n</code></pre>"},{"location":"events/content/view_content/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Maximum Length content_type <code>string</code> required The type of content selected by the user. Use \"page\" if no more specific content_type applies or if the capability to distinguish between content_types does not currenly exist. <code>article, blog, page</code> <code>100</code> identifier <code>string</code> required The form machine-readable name. This should be a unique value specific to this piece of content, if one exists. If one does not exist, this can also be populated with the same value as the . <code>ecp_locator, free_trial</code> <code>100</code> name <code>string</code> required The form human-readable name. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify the form with. It should be lowercase snake_case. <code>purchase_product</code> <code>100</code>"},{"location":"events/content/view_content_listing/","title":"View Content Listing","text":"<p>Fire whenever a content listing (e.g. Article Card Section, Article List View, etc.) appears on a page.</p> <p>If multiple content listings appear on a page, then one <code>view_content_list</code> event message for each content listing should be sent to the data layer.</p> <p>Pairs with the following event: - Select Content</p>"},{"location":"events/content/view_content_listing/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// User views a listing of articles, article cards, etc.\n\n// Code:\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null });  // Clear the previous event_data object.\ndataLayer.push({\n  event: \"view_content_list\",\n  event_data: {\n    list_type: \"&lt;list_type&gt;\", // REQUIRED | string | e.g. \"article_card_section\", \"article_list_view\"\n    identifier: \"&lt;identifier&gt;\", // REQUIRED | string | e.g. \"featured_articles\", \"related_blog_posts\"\n    name: \"&lt;name&gt;\", // REQUIRED | string | e.g. \"featured_articles\", \"related_blog_posts\"\n  }\n});\n</code></pre>"},{"location":"events/content/view_content_listing/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Maximum Length list_type <code>string</code> required The type of list the item was found in. <code>\"article_card_section\"</code>, <code>\"article_list_view\"</code> <code>100</code> identifier <code>string</code> required The form machine-readable name. This should be a unique value specific to this piece of content, if one exists. If one does not exist, this can also be populated with the same value as the . <code>\"featured_articles\"</code>, <code>\"related_blog_posts\"</code> <code>100</code> name <code>string</code> required The form human-readable name. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify the form with. It should be lowercase snake_case. <code>\"featured_articles\"</code>, <code>\"related_blog_posts\"</code> <code>100</code>"},{"location":"events/coupon/coupon_print/","title":"Coupon Print","text":"<p>Fire whenever a user attempts to print a coupon.</p>"},{"location":"events/coupon/coupon_print/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// User attempts to print a coupon\n\n// Code:\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null });  // Clear the previous event_data object.\ndataLayer.push({\n  event: 'coupon_print',\n  event_data: {\n    coupons: '&lt;coupons&gt;', // REQUIRED | string - delimited (~) | ex. couponName1~couponName2~couponName3    \n  }\n});\n</code></pre>"},{"location":"events/coupon/coupon_print/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Maximum Length coupons <code>delimited string</code> required A delimited string of coupons that the user selected and is now downloading or printing. <code>couponName1~couponName2~couponName3</code> <code>100</code>"},{"location":"events/coupon/coupon_print_error/","title":"Coupon Print Error","text":"<p>Fire whenever a user encounters an error printing a coupon. </p>"},{"location":"events/coupon/coupon_print_error/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// User encounters and error printing a coupon\n\n// Code:\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null });  // Clear the previous event_data object.\ndataLayer.push({\n  event: 'coupon_print_error',\n  event_data: {\n    coupons: '&lt;coupons&gt;', // REQUIRED | string - delimited (~) | ex. couponName1~couponName2~couponName3\n    error_message: '&lt;error_message&gt;', // REQUIRED | string | ex. Phone number should follow the format (xxx) xxx-xxxx, Must be a valid email address    \n  }\n});\n</code></pre>"},{"location":"events/coupon/coupon_print_error/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Maximum Length coupons d<code>elimited string</code> required A delimited string of coupons that the user selected and is now downloading or printing. <code>couponName1~couponName2~couponName3</code> <code>100</code> error_message <code>string</code> required The specific error that occurred. If an error message is shown to the user, this should be populated with that text. <code>Phone number should follow the format (xxx) xxx-xxxx, Must be a valid email address</code> <code>100</code>"},{"location":"events/coupon/coupon_rebate_offer/","title":"Coupon Rebate Offer","text":"<p>Fire whenever a user is presented with a coupon rebate offer.</p>"},{"location":"events/coupon/coupon_rebate_offer/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// User presented with coupon rebate offer\n\n// Code:\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null });  // Clear the previous event_data object.\ndataLayer.push({\n  event: 'coupon_rebate_offer',\n  event_data: {\n    coupons: '&lt;coupons&gt;', // REQUIRED | string - delimited (~) | ex. couponName1~couponName2~couponName3    \n  }\n});\n</code></pre>"},{"location":"events/coupon/coupon_rebate_offer/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Maximum Length coupons <code>delimited string</code> required A delimited string of coupons that the user selected and is now downloading or printing. <code>couponName1~couponName2~couponName3</code> <code>100</code>"},{"location":"events/coupon/select_coupon/","title":"Select Coupon","text":"<p>Fire whenever a user selects a coupon.</p>"},{"location":"events/coupon/select_coupon/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// User selects a coupon\n\n// Code:\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null });  // Clear the previous event_data object.\ndataLayer.push({\n  event: 'select_coupon',\n  event_data: {\n    coupons: '&lt;coupons&gt;', // REQUIRED | string - delimited (~) | ex. couponName1~couponName2~couponName3\n    identifier: '&lt;identifier&gt;', // REQUIRED | string | ex. neutrogena_discount, free_shipping_q421\n    name: '&lt;name&gt;', // REQUIRED | string | ex. neutrogena_discount, free_shipping_q421\n    type: '&lt;type&gt;' // REQUIRED | string | ex. discount, promo\n  }\n});\n</code></pre>"},{"location":"events/coupon/select_coupon/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Maximum Length coupons <code>delimited string</code> required A delimited string of coupons that the user selected and is now downloading or printing. <code>couponName1~couponName2~couponName3</code> <code>100</code> identifier <code>string</code> required The form machine-readable name. This should be a unique value specific to this piece of content, if one exists. If one does not exist, this can also be populated with the same value as the . <code>neutrogena_discount</code>, <code>free_shipping_q421</code> <code>100</code> name <code>string</code> required The form human-readable name. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify the form with. It should be lowercase snake_case. <code>neutrogena_discount</code>, <code>free_shipping_q421</code> <code>100</code> type <code>string</code> required The coupon type. This will act as a filtering mechanism in reporting to enable analysts to view coupon engagement. It can also act as an internal aid in firing additional events if necessary. <code>discount</code>, <code>promo</code> <code>100</code>"},{"location":"events/ecommerce/add_payment_info/","title":"Add Payment Info","text":"<p>Fire whenever a user submits their payment information. This event will fire AFTER the user has successfully completed the \"Add Payment Info\" step and has done the following:</p> <ol> <li>Payment info has populated all required payment fields.</li> <li>The user has selected to move on to the next step (e.g. shipping info, order review, etc.).</li> <li>The system has successfully verified the payment info and moves the user from the payment step to the following step.</li> </ol> <p>Pairs with the following events: - Begin Checkout - Add Shipping Info</p>"},{"location":"events/ecommerce/add_payment_info/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// User user submits payment information\n\n// Code:\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null, ecommerce: null });  // Clear the previous ecommerce object.\ndataLayer.push({\n  event: \"add_payment_info\",\n  event_data: {\n    identifier: \"&lt;identifier&gt;\", // REQUIRED | string | ex. uniquely_created_id, skin360_pwa_ntg_atc\n    name: '&lt;name&gt;' // REQUIRED | string | ex. pdp_add_to_cart, skin360_pwa_ntg add_to_cart\n},\n  ecommerce: {\n    coupon: \"&lt;coupon&gt;\", // contextual | string | ex. SUMMER_FUN | pattern: ^[A-Za-z0-9_]+$\n    currency: \"&lt;currency&gt;\", // REQUIRED | string | ex. USD | pattern: ^[A-Z]{3}$ | min. 3, max. 3\n    items: \"&lt;items&gt;\", // REQUIRED | array | ex. [{item_id: \"test\"}] \n    payment_method: \"&lt;payment_method&gt;\", // REQUIRED | string | ex. credit_card | pattern: ^[a-z_]+$\n    value: \"&lt;value&gt;\" // REQUIRED | number | ex. 7.77 | pattern: ^\\d\\.\\d\\d$ | min. 0.00\n  }\n});\n</code></pre>"},{"location":"events/ecommerce/add_payment_info/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Pattern Minimum Length Maximum Length Minimum identifier <code>string</code> required The wtb-event machine-readable name. This should be a unique value specific to this piece of content, if one exists. If one does not exist, this can also be populated with the same value as the . <code>contact</code>, <code>lead_generation</code> <code>100</code> name <code>string</code> required The wtb-event human-readable name. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify the event with. It should be lowercase snake_case. <code>contact</code>, <code>lead_generation</code> <code>100</code> coupon string contextual The coupon name/code associated with the event. Event-level and item-level coupon parameters are independent. <code>SUMMER_FUN</code> <code>100</code> currency string required Currency of the items associated with the event, in 3-letter ISO 4217 format. <code>USD</code> <code>^[A-Z]{3}$</code> <code>3</code> <code>3</code> items array of items required Populate with item objects that represent the product(s) currently in the cart during the checkout process. <code>[{item_id: \"test\"}]</code> payment_method string required The chosen method of payment. <code>credit_card</code> <code>100</code> value number required The monetary value of the event. Does not include currency sign. <code>7.77</code> <code>^\\d\\.\\d\\d$</code> <code>100</code> <code>0.00</code>"},{"location":"events/ecommerce/add_shipping_info/","title":"Add Shipping Info","text":"<p>Fire whenever a user submits their shipping information. This event will fire AFTER the user has successfully completed the \"Add Shipping Info\" step and has done the following:</p> <ol> <li>Shipping info has populated all required shipping fields.</li> <li>The user has selected to move on to the next step (e.g. payment info, order review, etc.).</li> <li>The system has successfully verified the shipping info and moves the user from the shipping step to the following step.</li> </ol> <p>Pairs with the following events: - Begin Checkout - Add Payment Info</p>"},{"location":"events/ecommerce/add_shipping_info/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// User user submits shipping information\n\n// Code:\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null, ecommerce: null });  // Clear the previous ecommerce object.\ndataLayer.push({\n  event: \"add_shipping_info\",\n  event_data: {\n    identifier: \"&lt;identifier&gt;\", // REQUIRED | string | ex. uniquely_created_id, skin360_pwa_ntg_atc\n    name: '&lt;name&gt;' // REQUIRED | string | ex. pdp_add_to_cart, skin360_pwa_ntg add_to_cart\n},\n  ecommerce: {\n    coupon: \"&lt;coupon&gt;\", // contextual | string | ex. SUMMER_FUN\n    currency: \"&lt;currency&gt;\", // REQUIRED | string | ex. USD | pattern: ^[A-Z]{3}$ | min. 3, max. 3\n    items: \"&lt;items&gt;\", // REQUIRED | array | ex. [{item_id: \"test\"}] \n    shipping_tier: \"&lt;shipping_tier&gt;\", // contextual | string | ex. ground | pattern: ^[a-z_]+$\n    value: \"&lt;value&gt;\" // REQUIRED | number | ex. 7.77 | pattern: ^\\d\\.\\d\\d$ | min. 0.00\n  }\n});\n</code></pre>"},{"location":"events/ecommerce/add_shipping_info/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Pattern Minimum Length Maximum Length Minimum identifier <code>string</code> required The wtb-event machine-readable name. This should be a unique value specific to this piece of content, if one exists. If one does not exist, this can also be populated with the same value as the . <code>contact</code>, <code>lead_generation</code> <code>100</code> name <code>string</code> required The wtb-event human-readable name. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify the event with. It should be lowercase snake_case. <code>contact</code>, <code>lead_generation</code> <code>100</code> coupon string contextual The coupon name/code associated with the event. Event-level and item-level coupon parameters are independent. <code>SUMMER_FUN</code> <code>100</code> currency string required Currency of the items associated with the event, in 3-letter ISO 4217 format. <code>USD</code> <code>^[A-Z]{3}$</code> <code>3</code> <code>3</code> items array of items required Populate with item objects that represent the product(s) currently in the cart during the checkout process. <code>[{item_id: \"test\"}]</code> shipping_tier string contextual The shipping method selected for delivery of the purchased item(s). <code>ground</code> <code>100</code> value number required The monetary value of the event. Does not include currency sign. <code>7.77</code> <code>^\\d\\.\\d\\d$</code> <code>100</code> <code>0.00</code>"},{"location":"events/ecommerce/add_to_cart/","title":"Add To Cart","text":"<p>Fire whenever a user adds one or more items to their cart.</p>"},{"location":"events/ecommerce/add_to_cart/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// User adds one or more items to cart\n\n// Code:\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null, ecommerce: null });  // Clear the previous ecommerce object.\ndataLayer.push({\n  event: \"add_to_cart\",\n  event_data: {\n    identifier: \"&lt;identifier&gt;\", // REQUIRED | string | ex. uniquely_created_id, skin360_pwa_ntg_atc\n    name: '&lt;name&gt;' // REQUIRED | string | ex. pdp_add_to_cart, skin360_pwa_ntg add_to_cart\n},\n  ecommerce: {\n    currency: \"&lt;currency&gt;\", // REQUIRED | string | ex. USD | pattern: ^[A-Z]{3}$ | min. 3| max. 3\n    items: \"&lt;items&gt;\", // REQUIRED | array | ex. [{item_id: \"test\"}]\n    value: \"&lt;value&gt;\" // REQUIRED | number | ex. 7.77 | pattern: ^\\d\\.\\d\\d$ | min. 0.00\n  }\n});\n</code></pre>"},{"location":"events/ecommerce/add_to_cart/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Pattern Minimum Length Maximum Length Minimum identifier <code>string</code> required The wtb-event machine-readable name. This should be a unique value specific to this piece of content, if one exists. If one does not exist, this can also be populated with the same value as the . <code>contact</code>, <code>lead_generation</code> <code>100</code> name <code>string</code> required The wtb-event human-readable name. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify the event with. It should be lowercase snake_case. <code>contact</code>, <code>lead_generation</code> <code>100</code> currency <code>string</code> required Currency of the items associated with the event, in 3-letter ISO 4217 format. <code>USD</code> <code>^[A-Z]{3}$</code> <code>3</code> <code>3</code> items <code>array of [items]</code>(../../schemas/item.md) required Populate with item objects that represent the product(s) added to the cart. <code>[{item_id: \"test\"}]</code> value <code>number</code> required The monetary value of the event. Does not include currency sign. <code>7.77</code> <code>^\\d\\.\\d\\d$</code> <code>100</code> <code>0.00</code>"},{"location":"events/ecommerce/add_to_wishlist/","title":"Add to Wishlist","text":"<p>Send when a user adds an item to their wishlist.</p>"},{"location":"events/ecommerce/add_to_wishlist/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// User user adds item(s) to wishlist\n\n// Code:\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null, ecommerce: null });  // Clear the previous ecommerce object.\ndataLayer.push({\n  event: \"add_to_wishlist\",\n  event_data: {\n    identifier: \"&lt;identifier&gt;\", // REQUIRED | string | ex. uniquely_created_id, skin360_pwa_ntg_atc\n    name: '&lt;name&gt;' // REQUIRED | string | ex. pdp_add_to_cart, skin360_pwa_ntg add_to_cart\n},\n  ecommerce: {\n    currency: \"&lt;currency&gt;\", // REQUIRED | string | ex. USD | pattern: ^[A-Z]{3}$ | min. 3| max. 3\n    items: \"&lt;items&gt;\", // REQUIRED | array | ex. [{item_id: \"test\"}]\n    value: \"&lt;value&gt;\" // REQUIRED | number | ex. 7.77 | pattern: ^\\d\\.\\d\\d$ | min. 0.00\n  }\n});\n</code></pre>"},{"location":"events/ecommerce/add_to_wishlist/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Pattern Minimum Length Maximum Length Minimum identifier <code>string</code> required The wtb-event machine-readable name. This should be a unique value specific to this piece of content, if one exists. If one does not exist, this can also be populated with the same value as the . <code>contact</code>, <code>lead_generation</code> <code>100</code> name <code>string</code> required The wtb-event human-readable name. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify the event with. It should be lowercase snake_case. <code>contact</code>, <code>lead_generation</code> <code>100</code> currency string required Currency of the items associated with the event, in 3-letter ISO 4217 format. <code>USD</code> <code>^[A-Z]{3}$</code> <code>3</code> <code>3</code> items array of items required Populate with item objects that represent the product(s) added to the wishlist. <code>[{item_id: \"test\"}]</code> value number required The monetary value of the event. Does not include currency sign. <code>7.77</code> <code>^\\d\\.\\d\\d$</code> <code>100</code> <code>0.00</code>"},{"location":"events/ecommerce/begin_checkout/","title":"Begin Checkout","text":"<p>Fire whenever a user begins a checkout. This event is not the same as the ecommerce event \"View Cart\". This event will fire once the user initiates the checkout funnel. Examples of where the \"begin_checkout\" event should fire are (but only ONCE during checkout and will be the FIRST thing that fires): - The user views the INITIAL form to fill out shipping information - The user views the INITIAL form to fill out payment information - the user view the INITIAL screen to either log in or create an account to proceed with their checkout</p> <p>Pairs with the following events: - Add Payment Info - Add Shipping Info</p>"},{"location":"events/ecommerce/begin_checkout/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// User begins a checkout\n\n// Code:\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null, ecommerce: null });  // Clear the previous ecommerce object.\ndataLayer.push({\n  event: \"begin_checkout\",\n  event_data: {\n    identifier: \"&lt;identifier&gt;\", // REQUIRED | string | ex. uniquely_created_id, skin360_pwa_ntg_atc\n    name: '&lt;name&gt;' // REQUIRED | string | ex. pdp_add_to_cart, skin360_pwa_ntg add_to_cart\n},\n  ecommerce: {\n    coupon: \"&lt;coupon&gt;\", // contextual | string | ex. SUMMER_FUN\n    currency: \"&lt;currency&gt;\", // REQUIRED | string | ex. USD | pattern: ^[A-Z]{3}$ | min. 3| max. 3\n    items: \"&lt;items&gt;\", // REQUIRED | array | ex. [{item_id: \"test\"}]\n    value: \"&lt;value&gt;\" // REQUIRED | number | ex. 7.77 | pattern: ^\\d\\.\\d\\d$ | min. 0.00\n  }\n});\n</code></pre>"},{"location":"events/ecommerce/begin_checkout/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Pattern Minimum Length Maximum Length Minimum identifier <code>string</code> required The wtb-event machine-readable name. This should be a unique value specific to this piece of content, if one exists. If one does not exist, this can also be populated with the same value as the . <code>contact</code>, <code>lead_generation</code> <code>100</code> name <code>string</code> required The wtb-event human-readable name. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify the event with. It should be lowercase snake_case. <code>contact</code>, <code>lead_generation</code> <code>100</code> coupon string contextual The coupon name/code associated with the event. Event-level and item-level coupon parameters are independent. <code>SUMMER_FUN</code> <code>100</code> currency string required Currency of the items associated with the event, in 3-letter ISO 4217 format. <code>USD</code> <code>^[A-Z]{3}$</code> <code>3</code> <code>3</code> items array of items required Populate with item objects that represent the product(s) currently in the cart during the checkout process. <code>[{item_id: \"test\"}]</code> value number required The monetary value of the event. Does not include currency sign. <code>7.77</code> <code>^\\d\\.\\d\\d$</code> <code>100</code> <code>0.00</code>"},{"location":"events/ecommerce/purchase/","title":"Purchase","text":"<p>Fire whenever a user purchases one or more items. The Google Analytics 4 schema has some very extreme requirements about what is needed to be recognized as a true purchase/transaction. The following parameters are 100% REQUIRED when implementing the purchase event:</p> <ul> <li>Transaction ID (transaction_id)</li> <li>Currency (currency)</li> <li>Items (items)</li> <li>Value (value)</li> </ul> <p>If any of the above parameters are not present, the transaction will NOT be recognized by Google Analytics 4, which can result in no ecommerce information being processed. </p>"},{"location":"events/ecommerce/purchase/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// User purchases on or more items\n\n// Code:\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null, ecommerce: null });  // Clear the previous ecommerce object.\ndataLayer.push({\n  event: \"purchase\",\n  event_data: {\n    identifier: \"&lt;identifier&gt;\", // REQUIRED | string | ex. uniquely_created_id, skin360_pwa_ntg_atc\n    name: '&lt;name&gt;' // REQUIRED | string | ex. pdp_add_to_cart, skin360_pwa_ntg add_to_cart\n},\n  ecommerce: {\n    affiliation: \"&lt;affiliation&gt;\", // REQUIRED | string | ex. walgreens, listerine online store | pattern: ^[A-Za-z0-9_]+$   \n    coupon: \"&lt;coupon&gt;\", // contextual | string | ex. SUMMER_FUN | pattern: ^[A-Za-z0-9_]+$ \n    currency: \"&lt;currency&gt;\", // REQUIRED | string | ex. USD | pattern: ^[A-Z]{3}$ | min. 3, max. 3\n    items: \"&lt;items&gt;\", // REQUIRED | array | ex. [{item_id: \"test\"}]\n    shipping: \"&lt;shipping&gt;\", // REQUIRED | number | ex. 3.33 | pattern: ^\\d\\.\\d\\d$   | min. 0.00\n    tax: \"&lt;tax&gt;\", // REQUIRED | number | ex. 1.11 | pattern: ^\\d\\.\\d\\d$ | min. 0.00\n    transaction_id: \"&lt;transaction_id&gt;\", // REQUIRED | string | T12345\n    value: \"&lt;value&gt;\" // REQUIRED | number | ex. 7.77 | pattern: ^\\d\\.\\d\\d$  | min. 0.00\n  }\n});\n</code></pre>"},{"location":"events/ecommerce/purchase/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Pattern Minimum Length Maximum Length Minimum identifier <code>string</code> required The wtb-event machine-readable name. This should be a unique value specific to this piece of content, if one exists. If one does not exist, this can also be populated with the same value as the . <code>contact</code>, <code>lead_generation</code> <code>100</code> name <code>string</code> required The wtb-event human-readable name. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify the event with. It should be lowercase snake_case. <code>contact</code>, <code>lead_generation</code> <code>100</code> affiliation string required A product affiliation to designate a supplying company or brick and mortar store location. Event-level and item-level affiliation parameters are independent. <code>walgreens</code>,<code>listerine online store</code> <code>100</code> coupon string contextual The coupon name/code associated with the event. Event-level and item-level coupon parameters are independent. <code>SUMMER_FUN</code> <code>100</code> currency string required Currency of the items associated with the event, in 3-letter ISO 4217 format. <code>USD</code> <code>^[A-Z]{3}$</code> <code>3</code> <code>3</code> items array of items required Populate with items objects that represent the product(s) purchased. <code>[{item_id: \"test\"}]</code> shipping number required Shipping cost associated with a transaction. Does not include currency sign. <code>3.33</code> <code>^\\d\\.\\d\\d$</code> <code>100</code> <code>0.00</code> tax number required Tax cost associated with a transaction. Does not include currency sign. <code>1.11</code> <code>^\\d\\.\\d\\d$</code> 100 <code>0.00</code> transaction_id string required The unique identifier of a transaction. <code>T12345</code> <code>100</code> value number required The monetary value of the event. Does not include currency sign. <code>7.77</code> <code>^\\d\\.\\d\\d$</code> <code>100</code> <code>0.00</code>"},{"location":"events/ecommerce/refund/","title":"Refund","text":"<p>Fire whenever a refund is issued. The Google Analytics 4 schema has some very extreme requirements about what is needed to be recognized as a true refund/transaction. The following parameters are 100% REQUIRED when implementing the refund event for a PARTIAL REFUND:</p> <ul> <li>Transaction ID (transaction_id)</li> <li>Currency (currency)</li> <li>Value (value)</li> <li>Items (items</li> </ul> <p>The following parameters are 100% REQUIRED when implementing the refund event for a FULL REFUND:</p> <ul> <li>Transaction ID (transaction_id)</li> <li>Currency (currency)</li> <li>Value (value)</li> </ul> <p>You may notice the \"item Array\" is not present in the FULL REFUND events like it is the PARTIAL REFUND event and the \"Purchase Event\", this is because when performing a FULL REFUND GA4 will assume all products have been returned.</p>"},{"location":"events/ecommerce/refund/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// User refund is issued\n\n// Code:\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null, ecommerce: null });  // Clear the previous ecommerce object.\ndataLayer.push({\n  event: \"refund\",\n  event_data: {\n    identifier: \"&lt;identifier&gt;\", // REQUIRED | string | ex. uniquely_created_id, skin360_pwa_ntg_atc\n    name: '&lt;name&gt;' // REQUIRED | string | ex. pdp_add_to_cart, skin360_pwa_ntg add_to_cart\n},\n  ecommerce: {\n    affiliation: \"&lt;affiliation&gt;\", // REQUIRED | string | ex. walgreens, listerine online store |\n    coupon: \"&lt;coupon&gt;\", // contextual | string | ex. SUMMER_FUN |\n    currency: \"&lt;currency&gt;\", // REQUIRED | string | ex. USD | pattern: ^[A-Z]{3}$ | min. 3, max. 3\n    items: \"&lt;items&gt;\", // REQUIRED | array | ex. [{item_id: \"test\"}]\n    shipping: \"&lt;shipping&gt;\", // REQUIRED | number | ex. 3.33 | pattern: ^\\d\\.\\d\\d$   | min. 0.00\n    tax: \"&lt;tax&gt;\", // REQUIRED | number | ex. 1.11 | pattern: ^\\d\\.\\d\\d$ | min. 0.00\n    transaction_id: \"&lt;transaction_id&gt;\", // REQUIRED | string | ex. T12345\n    value: \"&lt;value&gt;\" // REQUIRED | number | ex. 7.77 | pattern: ^\\d\\.\\d\\d$ | min. 0.00\n  }\n});\n</code></pre>"},{"location":"events/ecommerce/refund/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Pattern Minimum Length Maximum Length Minimum identifier <code>string</code> required The wtb-event machine-readable name. This should be a unique value specific to this piece of content, if one exists. If one does not exist, this can also be populated with the same value as the . <code>contact</code>, <code>lead_generation</code> <code>100</code> name <code>string</code> required The wtb-event human-readable name. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify the event with. It should be lowercase snake_case. <code>contact</code>, <code>lead_generation</code> <code>100</code> affiliation string required A product affiliation to designate a supplying company or brick and mortar store location. Event-level and item-level affiliation parameters are independent. <code>walgreens</code>,<code>listerine online store</code> <code>100</code> coupon string contextual The coupon name/code associated with the event. Event-level and item-level coupon parameters are independent. <code>SUMMER_FUN</code> <code>100</code> currency string required Currency of the items associated with the event, in 3-letter ISO 4217 format. <code>USD</code> <code>^[A-Z]{3}$</code> <code>3</code> <code>3</code> items array of items required Populate with item objects that represent the product(s) returned. Note that items is required for partial refunds but it can be omitted for full refunds. <code>[{item_id: \"test\"}]</code> shipping number required Shipping cost associated with a transaction. Does not include currency sign. <code>3.33</code> <code>^\\d\\.\\d\\d$</code> <code>100</code> <code>0.00</code> tax number required Tax cost associated with a transaction. Does not include currency sign. <code>1.11</code> <code>^\\d\\.\\d\\d$</code> <code>100</code> <code>0.00</code> transaction_id string required The unique identifier of a transaction. <code>T12345</code> <code>100</code> value number required The monetary value of the event. Does not include currency sign. <code>7.77</code> <code>^\\d\\.\\d\\d$</code> <code>100</code> <code>0.00</code>"},{"location":"events/ecommerce/remove_from_cart/","title":"Remove From Cart","text":"<p>Fire whenever a user removes one or more items from their cart.</p>"},{"location":"events/ecommerce/remove_from_cart/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// User removes one or more items from cart\n\n// Code:\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null, ecommerce: null });  // Clear the previous ecommerce object.\ndataLayer.push({\n  event: \"remove_from_cart\",\n  event_data: {\n    identifier: \"&lt;identifier&gt;\", // REQUIRED | string | ex. uniquely_created_id, skin360_pwa_ntg_rfc\n    name: '&lt;name&gt;' // REQUIRED | string | ex. pdp_remove_from_cart, skin360_pwa_ntg remove_from_cart\n},\n  ecommerce: {\n    currency: \"&lt;currency&gt;\", // REQUIRED | string | ex. USD | pattern: ^[A-Z]{3}$ | min. 3| max. 3\n    items: \"&lt;items&gt;\", // REQUIRED | array | ex. [{item_id: \"test\"}]\n    value: \"&lt;value&gt;\" // REQUIRED | number | ex. 7.77 | pattern: ^\\d\\.\\d\\d$ | min. 0.00\n  }\n});\n</code></pre>"},{"location":"events/ecommerce/remove_from_cart/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Pattern Minimum Length Maximum Length Minimum identifier <code>string</code> required The wtb-event machine-readable name. This should be a unique value specific to this piece of content, if one exists. If one does not exist, this can also be populated with the same value as the . <code>contact</code>, <code>lead_generation</code> <code>100</code> name <code>string</code> required The wtb-event human-readable name. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify the event with. It should be lowercase snake_case. <code>contact</code>, <code>lead_generation</code> <code>100</code> currency <code>string</code> required Currency of the items associated with the event, in 3-letter ISO 4217 format. <code>USD</code> <code>^[A-Z]{3}$</code> <code>3</code> <code>3</code> items <code>array of [items]</code>(../../schemas/item.md) required Populate with item objects that represent the product(s) added to the cart. <code>[{item_id: \"test\"}]</code> value <code>number</code> required The monetary value of the event. Does not include currency sign. <code>7.77</code> <code>^\\d\\.\\d\\d$</code> <code>100</code> <code>0.00</code>"},{"location":"events/ecommerce/select_item/","title":"Select Item","text":"<p>Fire whenever a user clicks on a product link found in a list that forwards the user to the product detail page. List types include cards, search, promotions, and similar components.</p> <p>If the site is not currently able to support differentiating products from content, then add the attributes/event for select_content instead and add a dev task to update the site to enable this differentiation.</p> <p>Do not fire this event for product links found in menus.</p>"},{"location":"events/ecommerce/select_item/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// User clicks on a product link in a list (cards, search, promotions...) that forwards to a product detail page. \n// Do not use this event for product links found in menus.\n\n// Code:\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null, ecommerce: null });  // Clear the previous ecommerce object.\ndataLayer.push({\n  event: \"select_item\",\n  event_data: {\n    identifier: \"&lt;identifier&gt;\", // REQUIRED | string | ex. uniquely_created_id, skin360_pwa_ntg_atc\n    name: '&lt;name&gt;' // REQUIRED | string | ex. pdp_add_to_cart, skin360_pwa_ntg add_to_cart\n},\n  ecommerce: {\n    facets: \"&lt;facets&gt;\", // contextual | string - double delimited (:)(~) | category:skin_health~featured_as:best_seller \n    items: \"&lt;items&gt;\", // REQUIRED | array | ex. [{item_id: \"070501110485\", item_name: \"Neutrogena Hydro Boost Gel-Cream\"}]  \n    item_list_id: \"&lt;item_list_id&gt;\", // REQUIRED | string | ex. 12345abcde12345\n    item_list_name: \"&lt;item_list_name&gt;\", // REQUIRED | string | ex. filter_by_group, recommended_products, recently_viewed_products\n    list_type: \"&lt;list_type&gt;\", // REQUIRED | string | ex. cards, search_results  \n    search_term: \"&lt;search_term&gt;\", // contextual | string | ex. sunscreen\n    search_type: \"&lt;search_type&gt;\", // contextual | string | ex. site, filter_by_group\n    index: \"&lt;index&gt;\", // REQUIRED | integer | ex. 5\n  }\n});\n</code></pre>"},{"location":"events/ecommerce/select_item/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Maximum Length Minimum identifier <code>string</code> required The wtb-event machine-readable name. This should be a unique value specific to this piece of content, if one exists. If one does not exist, this can also be populated with the same value as the . <code>contact</code>, <code>lead_generation</code> <code>100</code> name <code>string</code> required The wtb-event human-readable name. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify the event with. It should be lowercase snake_case. <code>contact</code>, <code>lead_generation</code> <code>100</code> facets delimited string contextual A double-delimited string of key/value pairs representing the refinements that were applied to this search. Only set if the list type is a search result or filter_by_group. <code>category:skin_health\\~skin_concern:acne\\ ~featured_as:best_seller</code> <code>100</code> items array of items required Populate with only the item that was selected. This should always be a single item array. <code>[{item_id: \"070501110485\", item_name: \"Neutrogena Hydro Boost Gel-Cream with Hyaluronic Acid for Extra-Dry Skin\"}]</code> item_list_id string required The computer-readable machine name of the list the item showed up in. Use UUID provided by the component if no more specific ID is available. <code>12345abcde12345</code> <code>100</code> item_list_name string required The human-readable name of the list the item showed up in. If one is not available, populate with numerical index of which list this is on the page (1-indexed). For <code>filter_by_group</code> component, use that value. <code>filter_by_group, recommended_products, recently_viewed_products</code> <code>100</code> list_type string required The type of list the item was found in. <code>cards, search_results</code> <code>100</code> search_term string contextual The final search term submitted after any correction has been performed. Only set if the <code>list_type</code> is <code>search_results</code>. <code>sunscreen</code> <code>100</code> search_type string contextual The type of search performed. Only set if the <code>list_type</code> is <code>search_results</code>. <code>site, filter_by_group</code> <code>100</code> index integer required The numerical index of the item position (1-indexed). For instance, if this is the 5th search result, you would send 5 here. If this is the 3rd card in a single row, send 3. If this is the 2nd item in the 3rd row of a 3-up card layout, send 8 (3 + 3 + 2). <code>5</code> <code>100</code> <code>1</code>"},{"location":"events/ecommerce/select_promotion/","title":"Select Promotion","text":"<p>Fire whenever a user clicks on a promotion link located in a component that forwards the user to a promotional page or an item/product. Component types include cards, carousels, search, promotions, home screen hero images, and similar components. A promotion is usually a temporary presentation of information that is different than displaying a dynamic list which would normally send a View Item List.</p> <p>The most common use case of the \"select_promotion\" event is a hero image that is displayed on the home page of a brand site as this is most commonly a promotion space that will drive a user to a product or product list.</p> <p>Pairs with \"View Promotion\".</p>"},{"location":"events/ecommerce/select_promotion/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// User user clicks on a promotion link found in the promotion component (cards, carousels, search, promotions, home screen hero images) that forwards to a promotional page or an item/product\n\n// Code:\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null, ecommerce: null });  // Clear the previous ecommerce object.\ndataLayer.push({\n  event: \"select_promotion\",\n  event_data: {\n    identifier: \"&lt;identifier&gt;\", // REQUIRED | string | ex. uniquely_created_id, skin360_pwa_ntg_atc\n    name: '&lt;name&gt;' // REQUIRED | string | ex. pdp_add_to_cart, skin360_pwa_ntg add_to_cart\n},\n  ecommerce: {\n    creative_name: \"&lt;creative_name&gt;\", // REQUIRED | string | ex. summer_banner2 \n    creative_slot: \"&lt;creative_slot&gt;\", // REQUIRED | string | ex. featured_hero_splash_1 \n    promotion_id: \"&lt;promotion_id&gt;\", // REQUIRED | string | ex. P_12345\n    promotion_name: \"&lt;promotion_name&gt;\", // REQUIRED | string | summer_sale_2023\n    items: \"&lt;items&gt;\" // REQUIRED | array | ex. [{item_id: \"test\"}]\n  }\n});\n</code></pre>"},{"location":"events/ecommerce/select_promotion/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Maximum Length identifier <code>string</code> required The wtb-event machine-readable name. This should be a unique value specific to this piece of content, if one exists. If one does not exist, this can also be populated with the same value as the . <code>contact</code>, <code>lead_generation</code> <code>100</code> name <code>string</code> required The wtb-event human-readable name. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify the event with. It should be lowercase snake_case. <code>contact</code>, <code>lead_generation</code> <code>100</code> creative_name string required The name of the promotional creative. Ignored if set at the item-level. <code>summer_banner2</code> <code>100</code> creative_slot string required The name of the promotional creative slot associated with the event. Ignored if set at the item-level. <code>featured_hero_splash_1</code> <code>100</code> promotion_id string required The ID of the promotion associated with the event. Ignored if set at the item-level. <code>P_12345</code> <code>100</code> promotion_name string required The name of the promotion associated with the event. Ignored if set at the item-level. <code>summer_sale_2023</code> <code>100</code> items array of items required Populate with item objects that represent the product viewed. <code>[{item_id: \"test\"}]</code>"},{"location":"events/ecommerce/view_cart/","title":"View Cart","text":"<p>Fire whenever a user views their cart. This event is not the same as the ecommerce event \"Begin Checkout\". Unlike \"Begin Checkout\", the view_cart event will fire when a user is preparing to finalize their purchase, usually presented with their list of products, as well as options as to how they will proceed with checking out (e.g. normal checkout, paypal, amazon, etc). </p>"},{"location":"events/ecommerce/view_cart/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// User views cart\n\n// Code:\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null, ecommerce: null });  // Clear the previous ecommerce object.\ndataLayer.push({\n  event: \"view_cart\",\n  event_data: {\n    identifier: \"&lt;identifier&gt;\", // REQUIRED | string | ex. uniquely_created_id, skin360_pwa_ntg_atc\n    name: '&lt;name&gt;' // REQUIRED | string | ex. pdp_add_to_cart, skin360_pwa_ntg add_to_cart\n},\n  ecommerce: {\n    currency: \"&lt;currency&gt;\", // REQUIRED | string | ex. USD | pattern: ^[A-Z]{3}$ | min. 3, max. 3\n    items: \"&lt;items&gt;\", // REQUIRED | array | ex. [{item_id: \"test\"}]\n    value: \"&lt;value&gt;\" // REQUIRED | number | ex. 7.77 | pattern: ^\\d\\.\\d\\d$ | min. 0.00\n  }\n});\n</code></pre>"},{"location":"events/ecommerce/view_cart/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Pattern Minimum Length Maximum Length Minimum identifier <code>string</code> required The wtb-event machine-readable name. This should be a unique value specific to this piece of content, if one exists. If one does not exist, this can also be populated with the same value as the . <code>contact</code>, <code>lead_generation</code> <code>100</code> name <code>string</code> required The wtb-event human-readable name. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify the event with. It should be lowercase snake_case. <code>contact</code>, <code>lead_generation</code> <code>100</code> currency string required Currency of the items associated with the event, in 3-letter ISO 4217 format. <code>USD</code> <code>^[A-Z]{3}$</code> <code>3</code> <code>3</code> items array of items required Populate with item objects that represent the product viewed. <code>[{item_id: \"test\"}]</code> <code>100</code> value number required The monetary value of the event. Does not include currency sign. <code>7.77</code> <code>^\\d\\.\\d\\d$</code> <code>100</code> <code>0.00</code>"},{"location":"events/ecommerce/view_item/","title":"View Item","text":"<p>Fire whenever a user visits a product detail page/screen.</p> <p>This event is to fire when a user is presented with a HIGHLY DETAILED page/screen, which includes (but is not limited to): - A web Page - after clicking \"more details\" on an item and an on-page window opens up and displays a product detail screen overlaying the previous screen</p> <p>If a page/screen is providing the user with detailed information, the user can add a product to their cart, and navigate to their cart with a product added, then it is highly likely that this page/screen is a product detail page/screen</p>"},{"location":"events/ecommerce/view_item/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// User visits a product detail page\n\n// Code:\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null, ecommerce: null });  // Clear the previous ecommerce object.\ndataLayer.push({\n  event: \"view_item\",\n  event_data: {\n    identifier: \"&lt;identifier&gt;\", // REQUIRED | string | ex. uniquely_created_id, skin360_pwa_ntg_atc\n    name: '&lt;name&gt;' // REQUIRED | string | ex. pdp_add_to_cart, skin360_pwa_ntg add_to_cart\n},\n  ecommerce: {\n    currency: \"&lt;currency&gt;\", // REQUIRED | string | ex. USD | pattern: ^[A-Z]{3}$ | min. 3, max. 3\n    items: \"&lt;items&gt;\", // REQUIRED | array | ex. [{item_id: \"test\"}]\n    value: \"&lt;value&gt;\" // REQUIRED | number | ex. 7.77 | pattern: ^\\d\\.\\d\\d$ | min. 0.00\n  }\n});\n</code></pre>"},{"location":"events/ecommerce/view_item/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Pattern Minimum Length Maximum Length Minimum identifier <code>string</code> required The wtb-event machine-readable name. This should be a unique value specific to this piece of content, if one exists. If one does not exist, this can also be populated with the same value as the . <code>contact</code>, <code>lead_generation</code> <code>100</code> name <code>string</code> required The wtb-event human-readable name. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify the event with. It should be lowercase snake_case. <code>contact</code>, <code>lead_generation</code> <code>100</code> currency string required Currency of the items associated with the event, in 3-letter ISO 4217 format. <code>USD</code> <code>^[A-Z]{3}$</code> <code>3</code> <code>3</code> items array of items required Populate with item objects that represent the product viewed. <code>[{item_id: \"test\"}]</code> value number required The monetary value of the event. Does not include currency sign. <code>7.77</code> <code>^\\d\\.\\d\\d$</code> <code>100</code> <code>0.00</code>"},{"location":"events/ecommerce/view_item_list/","title":"View Item List","text":"<p>Fire whenever a user sees multiple product links in a list that forward the user to the product detail page. </p> <p>This event should also be fired for the \"Filter By Group\" component when the list is initially displayed, or when a user applies a facet (but only when that component contains one or more products).</p>"},{"location":"events/ecommerce/view_item_list/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// User sees multiple product links in a list that forward to a product detail page\n// 'Filter By Group' component list is initially displayed or updated after a facet is applied, but only for products\n\n// Code:\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null, ecommerce: null });  // Clear the previous ecommerce object.\ndataLayer.push({\n  event: \"view_item_list\",\n  event_data: {\n    identifier: \"&lt;identifier&gt;\", // REQUIRED | string | ex. uniquely_created_id, skin360_pwa_ntg_atc\n    name: '&lt;name&gt;' // REQUIRED | string | ex. pdp_add_to_cart, skin360_pwa_ntg add_to_cart\n},\n  ecommerce: {\n    facets: \"&lt;facets&gt;\", // contextual | string - double delimited (:)(~) | ex. category:skin_health~featured_as:best_seller \n    items: \"&lt;items&gt;\", // REQUIRED | array | ex. [{item_id: \"070501110485\", item_name: \"Neutrogena Hydro Boost Gel-Cream\"}]  \n    item_list_id: \"&lt;item_list_id&gt;\", // REQUIRED | string | ex. 12345abcde12345\n    item_list_name: \"&lt;item_list_name&gt;\", // REQUIRED | string | ex. filter_by_group, recommended_products, recently_viewed_products\n    list_type: \"&lt;list_type&gt;\", // REQUIRED | string | ex. cards, search_results  \n    search_term: \"&lt;search_term&gt;\", // contextual | string | ex. sunscreen\n    search_type: \"&lt;search_type&gt;\", // contextual | string | ex. site, filter_by_group\n  }\n});\n</code></pre>"},{"location":"events/ecommerce/view_item_list/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Maximum Length identifier <code>string</code> required The wtb-event machine-readable name. This should be a unique value specific to this piece of content, if one exists. If one does not exist, this can also be populated with the same value as the . <code>contact</code>, <code>lead_generation</code> <code>100</code> name <code>string</code> required The wtb-event human-readable name. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify the event with. It should be lowercase snake_case. <code>contact</code>, <code>lead_generation</code> <code>100</code> facets delimited string contextual A double-delimited string of key/value pairs representing the refinements that were applied if this list is displayed using the \"Filter By Group\" component. <code>category:skin_health\\~skin_concern:acne\\ ~featured_as:best_seller</code> <code>100</code> items array of items required Populate with item objects that represent each product in the list. <code>[{item_id: \"test\"}]</code> item_list_id string required The computer-readable machine name of the list the item showed up in. Use UUID provided by the component if no more specific ID is available. <code>12345abcde12345</code> <code>100</code> item_list_name string required The human-readable name of the list the item showed up in. If one is not available, populate with numerical index of which list this is on the page (1-indexed). For <code>filter_by_group</code> component, use that value. <code>filter_by_group, recommended_products, recently_viewed_products, search_results</code> <code>100</code> list_type string required The type of list the item was found in. <code>cards, search_results</code> <code>100</code> search_term string contextual The final search term submitted after any correction has been performed. Only set if the <code>list_type</code> is <code>search_results</code>. <code>sunscreen</code> <code>100</code> search_type string contextual The type of search performed. Only set if the <code>list_type</code> is <code>search_results</code>. <code>site, filter_by_group</code> <code>100</code>"},{"location":"events/ecommerce/view_promotion/","title":"View Promotion","text":"<p>Fire whenever a user views/sees a promotion located in a component that forwards the user to a promotional page or an item/product. Component types include cards, carousels, search, promotions, home screen hero images, and similar components. A promotion is usually a temporary presentation of information that is different than clicking an item in a dynamic list which would normally send a \"Select Items\".</p> <p>The most common use case of the \"view_promotion\" event user views/sees the hero image that is displayed on the home page of a brand site as this is most commonly a promotion space that will drive a user to a product or product list.</p> <p>Pairs with \"Select Promotion\".</p>"},{"location":"events/ecommerce/view_promotion/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// User sees a promotion link\n\n// Code:\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null, ecommerce: null });  // Clear the previous ecommerce object.\ndataLayer.push({\n  event: \"view_promotion\",\n  event_data: {\n    identifier: \"&lt;identifier&gt;\", // REQUIRED | string | ex. uniquely_created_id, skin360_pwa_ntg_atc\n    name: '&lt;name&gt;' // REQUIRED | string | ex. pdp_add_to_cart, skin360_pwa_ntg add_to_cart\n},\n  ecommerce: {\n    creative_name: \"&lt;creative_name&gt;\", // REQUIRED | string | ex. summer_banner2 \n    creative_slot: \"&lt;creative_slot&gt;\", // REQUIRED | string | ex. featured_hero_splash_1 \n    promotion_id: \"&lt;promotion_id&gt;\", // REQUIRED | string | ex. P_12345\n    promotion_name: \"&lt;promotion_name&gt;\", // REQUIRED | string | summer_sale_2023\n    items: \"&lt;items&gt;\" // REQUIRED | array | ex. [{item_id: \"test\"}]\n  }\n});\n</code></pre>"},{"location":"events/ecommerce/view_promotion/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Maximum Length identifier <code>string</code> required The wtb-event machine-readable name. This should be a unique value specific to this piece of content, if one exists. If one does not exist, this can also be populated with the same value as the . <code>contact</code>, <code>lead_generation</code> <code>100</code> name <code>string</code> required The wtb-event human-readable name. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify the event with. It should be lowercase snake_case. <code>contact</code>, <code>lead_generation</code> <code>100</code> creative_name string required The name of the promotional creative. Ignored if set at the item-level. <code>summer_banner2</code> <code>100</code> creative_slot string required The name of the promotional creative slot associated with the event. Ignored if set at the item-level. <code>featured_hero_splash_1</code> <code>100</code> promotion_id string required The ID of the promotion associated with the event. Ignored if set at the item-level. <code>P_12345</code> <code>100</code> promotion_name string required The name of the promotion associated with the event. Ignored if set at the item-level. <code>summer_sale_2023</code> <code>100</code> items array of items required Populate with item objects that represent the product viewed. <code>[{item_id: \"test\"}]</code>"},{"location":"events/forms/form_complete/","title":"Form Complete","text":"<p>Fire whenever a user successfully completes a form. </p> <p>This event is fired when form input is successfully received and processed. This is in contrast to <code>form_error</code> which occurs when a submission is attempted but an error occurs and the form input is not received and processed.</p> <p>Warning</p> <p>Do not clear the page_data variable before setting user_login_state here as this is not a page view.</p> DO NOT populate user_id with a string value if unavailable <p>If the \"user_id\" is NOT available, DO NOT populate with an empty string (ex. \"\") or undefined as a string (ex. \"undefined\"). This value must ONLY be populated with a valid user id. If this value is not available, then either DO NOT include the parameter in the data layer push or populate with an undefined object (not a string).</p>"},{"location":"events/forms/form_complete/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// User successfully completes a form and data is received and processed\n// NOTE: Do not clear the page_data variable before setting user_login_state here. This is not a page view.\n\n// Code:\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null, user_data: null });  // Clear the previous event_data and user_data objects.\ndataLayer.push({\n  event: 'form_complete',\n  event_data: {\n    identifier: '&lt;identifier&gt;', // REQUIRED | string | ex. contact, lead_generation\n    name: '&lt;name&gt;', // REQUIRED | string | ex. contact, lead_generation \n    type: '&lt;type&gt;' // REQUIRED | string | ex. contact, lead_generation  \n  },\n  page_data: {\n    user_login_state: '&lt;user_login_state&gt;' // REQUIRED | string | authenticated or anonymous\n  },\n  user_data: {\n    event_form_hashemail: '&lt;HashedEmail&gt;', // REQUIRED | string | ex. 21c27e7c7ddc7bd779679440526319aec9db0ff97535f59728f764e946979843\n    event_form_custkey: '&lt;SFMC_CustomerKey&gt;', // optional | string | ex. 12345...\n    user_id: '&lt;user_id&gt;', // optional | string | ex. 12345...\n    user_type: '&lt;user_type&gt;' // optional | string | ex. new, returning, ...\n  }\n});\n</code></pre>"},{"location":"events/forms/form_complete/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Maximum Length identifier <code>string</code> required The form machine-readable name. This should be a unique value specific to this piece of content, if one exists. If one does not exist, this can also be populated with the same value as the . <code>contact</code>, <code>lead_generation</code> <code>100</code> name <code>string</code> required The form human-readable name. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify the form with. It should be lowercase snake_case. <code>contact</code>, <code>lead_generation</code> <code>100</code> type <code>string</code> required The form type. This will act as a filtering mechanism in reporting to enable analysts to view form droppoff funnels. It can also act as an internal aid in firing additional events if necessary. For instance, lead-generating forms require a <code>generate_lead</code> event to be fired alongside <code>form_complete</code>, and that could be written into the logic based upon this field. <code>contact</code>, <code>lead_generation</code> <code>100</code> user_login_state <code>string</code> required Set on all events with the authentication status of the current visitor. <code>authenticated</code>, <code>anonymous</code> <code>100</code> event_form_hashemail <code>string</code> required Hash (SHA256) of submitted user email. <code>21c27e7c7ddc7bd779679440526319aec9db0ff97535f59728f764e946979843</code> <code>100</code> event_form_custkey <code>string</code> optional This is the ID created by Salesforce Marketing Cloud (SFMC). <code>12345...</code> <code>100</code> user_id <code>string</code> optional ID of the user currently logged in to the site \u2014 should be included only, when submitting the form results in user authentication, or user was authenticated before submitting the form. This should only be populated with a valid user ID. This MUST NOT be populated with any other string, ex. \"undefined\", \"null\". Using an undefined object is permitted. <code>1234567890</code> <code>100</code> user_type <code>string</code> optional Type of authenticated user. This should only be populated with a valid user type. This MUST NOT be populated with any other string, ex. \"undefined\", \"null\". Using an undefined object is permitted. <code>new</code>, <code>returning</code> <code>100</code>"},{"location":"events/forms/form_error/","title":"Form Error","text":"<p>Fire whenever a user unsuccessfully completes a form. </p> <p>This is in contrast to <code>form_complete</code> which occurs when a submission succeeds.</p>"},{"location":"events/forms/form_error/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// User unsuccessfully completes a form and data is not received or processed\n\n// Code:\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null });  // Clear the previous event_data object.\ndataLayer.push({\n  event: 'form_error',\n  event_data: {\n    identifier: '&lt;identifier&gt;', // REQUIRED | string | ex. contact, lead_generation\n    name: '&lt;name&gt;', // REQUIRED | string | ex. contact, lead_generation \n    type: '&lt;type&gt;', // REQUIRED | string | ex. contact, lead_generation \n    error_message: '&lt;error_message&gt;' // REQUIRED | string | ex. Phone number should follow the format (xxx) xxx-xxxx\n  }\n});\n</code></pre>"},{"location":"events/forms/form_error/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Maximum Length identifier <code>string</code> required The form machine-readable name. This should be a unique value specific to this piece of content, if one exists. If one does not exist, this can also be populated with the same value as the . <code>contact</code>, <code>lead_generation</code> <code>100</code> name <code>string</code> required The form human-readable name. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify the form with. It should be lowercase snake_case. <code>contact</code>, <code>lead_generation</code> <code>100</code> type <code>string</code> required The form type. This will act as a filtering mechanism in reporting to enable analysts to view form droppoff funnels. It can also act as an internal aid in firing additional events if necessary. For instance, lead-generating forms require a <code>generate_lead</code> event to be fired alongside <code>form_complete</code>, and that could be written into the logic based upon this field. <code>contact</code>, <code>lead_generation</code> <code>100</code> error_message <code>string</code> required The specific error that has occurred. It should include rejected field name(s). <code>Phone number should follow the format (xxx) xxx-xxxx</code> <code>100</code>"},{"location":"events/forms/form_file_upload/","title":"Form File Uploaded","text":"<p>Fire whenever a user successfully uploads a file (such as a receipt) within a form.</p>"},{"location":"events/forms/form_file_upload/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// User successfully uploads a file (like a receipt) within a form.\n\n// Code:\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null, user_data: null });  // Clear the previous event_data object.\ndataLayer.push({\n  event: 'form_file_upload',\n  event_data: {\n    identifier: '&lt;identifier&gt;', // REQUIRED | string | ex. ecp_locator, free_trial  \n    name: '&lt;name&gt;', // REQUIRED | string | ex. ecp_locator, free_trial  \n    type: '&lt;type&gt;', // REQUIRED | string | ex. contact, lead_generation\n    file_extension: '&lt;file_extension&gt;', // REQUIRED | string | ex. pdf\n  }\n});\n</code></pre>"},{"location":"events/forms/form_file_upload/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Maximum Length identifier <code>string</code> required The form machine-readable name. This should be a unique value specific to this piece of content, if one exists. If one does not exist, this can also be populated with the same value as the . <code>contact</code>, <code>lead_generation</code> <code>100</code> name <code>string</code> required The form human-readable name. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify the form with. It should be lowercase snake_case. <code>contact</code>, <code>lead_generation</code> <code>100</code> type <code>string</code> required The form type. This will act as a filtering mechanism in reporting to enable analysts to view form droppoff funnels. It can also act as an internal aid in firing additional events if necessary. For instance, lead-generating forms require a <code>generate_lead</code> event to be fired alongside <code>form_complete</code>, and that could be written into the logic based upon this field. <code>contact</code>, <code>lead_generation</code> <code>100</code> file_extension <code>string</code> REQUIRED The file extension of the file being uploaded. <code>pdf</code> <code>100</code>"},{"location":"events/forms/form_start/","title":"Form Start","text":"<p>Fire whenever a user starts filling out a form. </p> <p>This event is generally fired after user input in the first form field. Historically this has been done via an HTMLElement change event on a form field, though it could be done via an HTMLElement focus event on a form field instead if that proves easier to implement. It should only be fired once per form, but if that is too technically complicated to implement, it can be limited on the GTM side instead.</p>"},{"location":"events/forms/form_start/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// User starts to fill out a form. The event fires after user input into the first form field \n// and should only fire once. onchange(), onfocus(), and GTM may be helpful.\n\n// Code:\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null });  // Clear the previous event_data object.\ndataLayer.push({\n  event: 'form_start',\n  event_data: {\n    identifier: '&lt;identifier&gt;', // REQUIRED | string | ex. ecp_locator, free_trial  \n    name: '&lt;name&gt;', // REQUIRED | string | ex. ecp_locator, free_trial  \n    type: '&lt;type&gt;', // REQUIRED | string | ex. contact, lead_generation\n  }\n});\n</code></pre>"},{"location":"events/forms/form_start/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Maximum Length identifier <code>string</code> required The form machine-readable name. This should be a unique value specific to this piece of content, if one exists. If one does not exist, this can also be populated with the same value as the . <code>contact</code>, <code>lead_generation</code> <code>100</code> name <code>string</code> required The form human-readable name. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify the form with. It should be lowercase snake_case. <code>contact</code>, <code>lead_generation</code> <code>100</code> type <code>string</code> required The form type. This will act as a filtering mechanism in reporting to enable analysts to view form droppoff funnels. It can also act as an internal aid in firing additional events if necessary. For instance, lead-generating forms require a <code>generate_lead</code> event to be fired alongside <code>form_complete</code>, and that could be written into the logic based upon this field. <code>contact</code>, <code>lead_generation</code> <code>100</code>"},{"location":"events/forms/form_view/","title":"Form View","text":"<p>Fire whenever a user is presented with a form on a page.</p>"},{"location":"events/forms/form_view/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// User presented a form on a page\n\n// Code:\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null });  // Clear the previous event_data object.\ndataLayer.push({\n  event: 'form_view',\n  event_data: {\n    identifier: '&lt;identifier&gt;', // REQUIRED | string | ex. contact, lead_generation \n    name: '&lt;name&gt;', // REQUIRED | string | ex. contact, lead_generation\n    type: '&lt;type&gt;', // REQUIRED | string | ex. contact, lead_generation\n  }\n});\n</code></pre>"},{"location":"events/forms/form_view/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Maximum Length identifier <code>string</code> required The form machine-readable name. This should be a unique value specific to this piece of content, if one exists. If one does not exist, this can also be populated with the same value as the . <code>contact</code>, <code>lead_generation</code> <code>100</code> name <code>string</code> required The form human-readable name. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify the form with. It should be lowercase snake_case. <code>contact</code>, <code>lead_generation</code> <code>100</code> type <code>string</code> required The form type. This will act as a filtering mechanism in reporting to enable analysts to view form droppoff funnels. It can also act as an internal aid in firing additional events if necessary. For instance, lead-generating forms require a <code>generate_lead</code> event to be fired alongside <code>form_complete</code>, and that could be written into the logic based upon this field. <code>contact</code>, <code>lead_generation</code> <code>100</code>"},{"location":"events/reviews/review_complete/","title":"Review Complete","text":"<p>Fire whenever a user completes a review. </p> <p>An item object should be included, but not as a separate property or array. The keys and values of the item should be rolled into the base object being pushed...hence the spread operator syntax used in the JS code below.</p>"},{"location":"events/reviews/review_complete/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// User completes a review\n\n// Code:\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null });  // Clear the previous event_data object.\ndataLayer.push({\n  event: 'review_complete',\n  event_data: {\n    rating: \"&lt;rating&gt;\", // REQUIRED | string | ex. 12345\n    item_id: \"&lt;item_id&gt;\" // recommended | string | ex. 3\n  }\n});\n</code></pre>"},{"location":"events/reviews/review_complete/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Pattern Min Length Max Length Minimum Maximum Multiple Of item_id string required The ID of the product being reviewed. 12345 rating string recommended The numerical rating given to the product. 3"},{"location":"events/reviews/review_start/","title":"Review Start","text":"<p>Fire whenever a user modifies the first field on a review widget. </p> <p>An item object should be included, but not as a separate property or array. The keys and values of the item should be rolled into the base object being pushed...hence the spread operator syntax used in the JS code below.</p>"},{"location":"events/reviews/review_start/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// User modifies the first field on a review widget\n\n// Code:\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null });  // Clear the previous event_data object.\ndataLayer.push({\n  event: 'review_start',\n  event_data: {\n    item_id: \"&lt;item_id&gt;\" // REQUIRED | string | ex. 12345\n  }\n});\n</code></pre>"},{"location":"events/reviews/review_start/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Pattern Min Length Max Length Minimum Maximum Multiple Of item_id string required The ID of the product being reviewed. 12345"},{"location":"events/search/search/","title":"Search","text":"<p>Fire whenever a user performs a search of any kind. This includes product searches, content searches, resource searches, etc. and does not require a view_search_results event to be fired subsequent to it.</p>"},{"location":"events/search/search/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// User performs a search of any kind and does not require a vew_search_results event to be fired, subsequently.\n\n// Code:\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null });  // Clear the previous event_data object.\ndataLayer.push({\n  event: \"search\",\n  event_data: {\n    corrected_term: \"&lt;search_term_corrected&gt;\", // contextual | string | ex. suns\n    search_term: \"&lt;search_term&gt;\", // REQUIRED | string | ex. sunscreen\n    search_type: \"&lt;search_type&gt;\", // REQUIRED | string | ex ecp_locator,product,site    \n  }\n});\n</code></pre>"},{"location":"events/search/search/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Maximum Length search_term_corrected string contextual The initial search term before typeahead/lookahead/suggestion, if the site has those features. <code>suns</code> <code>100</code> search_term string required The final search term submitted after any correction has been performed <code>sunscreen</code> <code>100</code> search_type string required The type of search performed <code>ecp_locator</code>,<code>product</code>,<code>site</code> <code>100</code>"},{"location":"events/search/view_search_results/","title":"View Search Results","text":"<p>Fire whenever a user views search results. This includes product searches, content searches, resource searches, etc., and DOES NOT REQUIRE a search event to be fired prior to it.</p> <p>This event should also be considered for the \"Filter By Group\" component if it is ever used to display anything but products. When used in this way, the search_term parameter would be <code>filter_by_group</code> as that component does not currently allow for a search_term to be entered by the user. If this case does arise, contact Search Discovery for additional information.</p>"},{"location":"events/search/view_search_results/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// User views search results and does not require a search event to be fired previously\n\n// Code:\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null });  // Clear the previous event_data object.\ndataLayer.push({\n  event: \"view_search_results\",\n  event_data: {\n    facets: \"&lt;refinements&gt;\", // contextual | string - double delimited (:)(~) | ex. category:skin_health~featured_as:best_seller    \n    number_of_items: \"&lt;number_of_items&gt;\", // REQUIRED | integer | ex. 1,324,0\n    search_term: \"&lt;search_term&gt;\", // REQUIRED | string | ex. sunscreen\n    search_type: \"&lt;search_type&gt;\", // REQUIRED | string | ex. ecp_locator, filter_by_group,product, site \n  }\n});\n</code></pre>"},{"location":"events/search/view_search_results/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Maximum Length <code>facets</code> delimited string contextual A delimited string of key/value pairs representing the facets that were applied to this search <code>need:skin health~skin_concern:acne~featured_as:best_seller</code> <code>100</code> <code>number_of_items</code> integer required The total number of search results found <code>1</code>,<code>324</code>.<code>0</code> <code>100</code> <code>search_term</code> string required The final search term submitted after any correction has been performed <code>sunscreen</code> <code>100</code> <code>search_type</code> string required The type of search performed <code>ecp_locator</code>,<code>filter_by_group</code>,<code>product</code>,<code>site</code> <code>100</code>"},{"location":"events/subscriptions/subscribe/","title":"Subscribe","text":"<p>Fire whenever a user subscribes to an email or product.</p>"},{"location":"events/subscriptions/subscribe/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// User subscribes to an email or product\n\n// Code:\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null });  // Clear the previous event_data object.\ndataLayer.push({\n  event: 'subscribe',\n  event_data: {\n    identifier: '&lt;identifier&gt;', // REQUIRED | string | ex. neutrogena_newsletter_123, jnj_promos_123\n    name: '&lt;name&gt;', // REQUIRED | string | ex. neutrogena_newsletter, jnj_promos\n    type: '&lt;type&gt;', // REQUIRED | string | ex. newsletter, promos\n    method: '&lt;method&gt;' // REQUIRED | string | ex. email\n  }\n});\n</code></pre>"},{"location":"events/subscriptions/subscribe/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Maximum Length identifier <code>string</code> required The subscription machine-readable name. This should be a unique value specific to this subscription, if one exists. If one does not exist, this can also be populated with the same value as the <code>name</code>. <code>neutrogena_newsletter_123</code>, <code>jnj_promos_123</code> <code>100</code> name <code>string</code> required The subscription human-readable name. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify the subscription with. It should be lowercase snake_case. <code>neutrogena_newsletter</code>, <code>jnj_promos</code> <code>100</code> type <code>string</code> required The subscription type. This will act as a filtering mechanism in reporting to enable analysts to view subscription dropoff funnels. It can also act as an internal aid in firing additional events if necessary. For instance, lead-generating subscriptions require a <code>generate_lead</code> event to be fired alongside <code>form_complete</code>, and that could be written into the logic based upon this field. <code>newsletter</code>, <code>promos</code> <code>100</code> method <code>string</code> required The channel through which the subscription is delivered. This is usually email, but can also be product. <code>email</code>,<code>product</code> <code>100</code>"},{"location":"events/subscriptions/subscription_change/","title":"Subscription Change","text":"<p>Fire whenever a user changes their subscription (other than a <code>subscribe</code> or <code>unsubscribe</code> event).</p>"},{"location":"events/subscriptions/subscription_change/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// User changes their subscription (other than a subscribe or unsubscribe event)\n\n// Code:\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null });  // Clear the previous event_data object.\ndataLayer.push({\n  event: 'subscription_change',\n  event_data: {\n    identifier: '&lt;identifier&gt;', // REQUIRED | string | ex. neutrogena_newsletter_123, jnj_promos_123\n    name: '&lt;name&gt;', // REQUIRED | string | ex. neutrogena_newsletter, jnj_promos\n    type: '&lt;type&gt;', // REQUIRED | string | ex. newsletter, promos\n    method: '&lt;method&gt;' // REQUIRED | string | ex. email, product\n  }\n});\n</code></pre>"},{"location":"events/subscriptions/subscription_change/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Maximum Length identifier <code>string</code> required The subscription machine-readable name. This should be a unique value specific to this subscription, if one exists. If one does not exist, this can also be populated with the same value as the <code>name</code>. <code>neutrogena_newsletter_123</code>, <code>jnj_promos_123</code> <code>100</code> name <code>string</code> required The subscription human-readable name. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify the subscription with. It should be lowercase snake_case. <code>neutrogena_newsletter</code>, <code>jnj_promos</code> <code>100</code> type <code>string</code> required The subscription type. This will act as a filtering mechanism in reporting to enable analysts to view subscription dropoff funnels. It can also act as an internal aid in firing additional events if necessary. For instance, lead-generating subscriptions require a <code>generate_lead</code> event to be fired alongside <code>form_complete</code>, and that could be written into the logic based upon this field. <code>newsletter</code>, <code>promos</code> <code>100</code> method <code>string</code> required The flow through which the subscription change occured. <code>email</code>, <code>product</code> <code>100</code>"},{"location":"events/subscriptions/unsubscribe/","title":"Unsubscribe","text":"<p>Fire whenever a user unsubscribes from an email or product.</p>"},{"location":"events/subscriptions/unsubscribe/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// User unsubscribes to an email or product\n\n// Code:\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null });  // Clear the previous event_data object.\ndataLayer.push({\n  event: 'unsubscribe',\n  event_data: {\n    identifier: '&lt;identifier&gt;', // REQUIRED | string | ex. neutrogena_newsletter_123, jnj_promos_123\n    name: '&lt;name&gt;', // REQUIRED | string | ex. neutrogena_newsletter, jnj_promos\n    type: '&lt;type&gt;', // REQUIRED | string | ex. newsletter, promos\n    method: '&lt;method&gt;' // REQUIRED | string | ex. email\n  }\n});\n</code></pre>"},{"location":"events/subscriptions/unsubscribe/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Maximum Length identifier <code>string</code> required The subscription machine-readable name. This should be a unique value specific to this subscription, if one exists. If one does not exist, this can also be populated with the same value as the <code>name</code>. <code>neutrogena_newsletter_123</code>, <code>jnj_promos_123</code> <code>100</code> name <code>string</code> required The subscription human-readable name. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify the subscription with. It should be lowercase snake_case. <code>neutrogena_newsletter</code>, <code>jnj_promos</code> <code>100</code> type <code>string</code> required The subscription type. This will act as a filtering mechanism in reporting to enable analysts to view subscription dropoff funnels. It can also act as an internal aid in firing additional events if necessary. For instance, lead-generating subscriptions require a <code>generate_lead</code> event to be fired alongside <code>form_complete</code>, and that could be written into the logic based upon this field. <code>newsletter</code>, <code>promos</code> <code>100</code> method <code>string</code> required The channel through which the subscription is delivered. This is usually email, but can also be product. <code>email</code>, <code>product</code> <code>100</code>"},{"location":"events/survey/survey_complete/","title":"Survey Complete","text":"<p>Fire whenever a user successfully completes a survey. </p> <p>This event is fired when survey input is successfully received and processed. This is in contrast to <code>survey_error</code> which occurs when a submission is attempted but an error occurs and the survey input is not recieved and processed.</p>"},{"location":"events/survey/survey_complete/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// User successfully completes survey and survey input is sucessfully received and processed. Contrasts survey_error in which a submission is not recieved and processed. \n\n// Code:\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null });  // Clear the previous event_data object.\ndataLayer.push({\n  event: 'survey_complete',\n  event_data: {\n    identifier: '&lt;identifier&gt;', // REQUIRED | string | ex. cancel_subscription_flow, free_trial\n    name: '&lt;name&gt;', // REQUIRED | string | ex. cancel_subscription_flow, free_trial\n    type: '&lt;type&gt;' // REQUIRED | string | ex. survey, lead_generation\n  }\n});\n</code></pre>"},{"location":"events/survey/survey_complete/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Maximum Length identifier <code>string</code> required The survey machine-readable name. This should be a unique value specific to this survey, if one exists. If one does not exist, this can also be populated with the same value as the <code>name</code>. <code>cancel_subscription_flow</code>, <code>free_trial</code> <code>100</code> name <code>string</code> required The survey human-readable name. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify the survey with. It should be lowercase snake_case. <code>cancel_subscription_flow</code>, <code>free_trial</code> <code>100</code> type <code>string</code> required The survey type. This will act as a filtering mechanism in reporting to enable analysts to view survey droppoff funnels. It can also act as an internal aid in firing additional events if necessary. For instance, lead-generating surveys require a <code>generate_lead</code> event to be fired alongside <code>complete_survey</code>, and that could be written into the logic based upon this field. <code>survey</code>, <code>lead_generation</code> <code>100</code>"},{"location":"events/survey/survey_error/","title":"Survey Error","text":"<p>Fire whenever a user unsuccessfully completes a survey. </p> <p>This is in contrast to <code>complete_survey</code> which occurs when a submission succeeds.</p>"},{"location":"events/survey/survey_error/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// User unsuccessfully completes a survey and survey input is not successfully received and processed. Contrasts survey_complete in which a submission is received and processed successfully. \n\n// Code:\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null });  // Clear the previous event_data object.\ndataLayer.push({\n  event: 'survey_error',\n  event_data: {\n    error_message: '&lt;error_message&gt;', // REQUIRED | string | ex. Phone number should follow the format (xxx) xxx-xxxx, Must be a valid email address\n    identifier: '&lt;identifier&gt;', // REQUIRED | string | ex. cancel_subscription_flow, free_trial\n    name: '&lt;name&gt;', // REQUIRED | string | ex. cancel_subscription_flow, free_trial\n    type: '&lt;type&gt;', // REQUIRED | string | ex. survey, lead_generation\n    step_name: '&lt;step_name&gt;', // contextual | string | ex. survey_field_validation, server_error\n    step_number: '&lt;step_number&gt;' // contextual | integer | ex. 1, 2, 3, 4, 5\n\n  }\n});\n</code></pre>"},{"location":"events/survey/survey_error/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Maximum Length error_message <code>string</code> required The specific error that occurred. If an error message is shown to the user, this should be populated with that text. <code>Phone number should follow the format (xxx) xxx-xxxx, Must be a valid email address</code> <code>100</code> identifier <code>string</code> required The survey machine-readable name. This should be a unique value specific to this survey, if one exists. If one does not exist, this can also be populated with the same value as the <code>name</code>. <code>cancel_subscription_flow</code>, <code>free_trial</code> <code>100</code> name <code>string</code> required The survey human-readable name. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify the survey with. It should be lowercase snake_case. <code>cancel_subscription_flow</code>, <code>free_trial</code> <code>100</code> type <code>string</code> required The type of error that occurred. <code>survey_field_validation</code>, <code>server_error</code> step_name <code>string</code> contextual The human-readable name of the current step of the survey. <code>why_are_you_cancelling</code>,<code>which_product</code> <code>100</code> step_number <code>integer</code> contextual The current step/section integer of the survey flow. <code>1</code>,<code>2</code>,<code>3</code>,<code>4</code>,<code>5</code> <code>100</code>"},{"location":"events/survey/survey_start/","title":"Survey Start","text":"<p>Fire whenever a user starts filling out a survey. </p> <p>This event is generally fired after user input in the first survey field. Historically this has been done via an HTMLElement change event on a survey field, though it could be done via an HTMLElement focus event on a survey field instead if that proves easier to implement. It should only be fired once per survey, but if that is too technically complicated to implement, it can be limited on the GTM side instead.</p>"},{"location":"events/survey/survey_start/#html-data-attributes","title":"HTML Data Attributes","text":"<p>This could be done with data attributes and detected via GTM at DOM Ready, but if a survey is dynamically added to the page at any time, it would not have the listeners properly set up. As such, manually firing the data layer push whenever a survey is submitted is a more reliable approach.</p>"},{"location":"events/survey/survey_start/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// User starts to fill our a survey. Event fires after user input into the first form field \n// and should only fire once. onchange(), onfocus(), and GTM may be helpful.\n\n// Code:\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null });  // Clear the previous event_data object.\ndataLayer.push({\n  event: 'survey_start',\n  event_data: {\n    identifier: '&lt;identifier&gt;', // REQUIRED | string | ex. cancel_subscription_flow, free_trial\n    name: '&lt;name&gt;', // REQUIRED | string | ex. cancel_subscription_flow, free_trial\n    type: '&lt;type&gt;' // REQUIRED | string | ex. survey, lead_generation\n  }\n});\n</code></pre>"},{"location":"events/survey/survey_start/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Maximum Length identifier <code>string</code> required The survey machine-readable name. This should be a unique value specific to this survey, if one exists. If one does not exist, this can also be populated with the same value as the <code>name</code>. <code>cancel_subscription_flow</code>, <code>free_trial</code> <code>100</code> name <code>string</code> required The survey human-readable name. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify the survey with. It should be lowercase snake_case. <code>cancel_subscription_flow</code>, <code>free_trial</code> <code>100</code> type <code>string</code> required The survey type. This will act as a filtering mechanism in reporting to enable analysts to view survey droppoff funnels. It can also act as an internal aid in firing additional events if necessary. For instance, lead-generating surveys require a <code>generate_lead</code> event to be fired alongside <code>complete_survey</code>, and that could be written into the logic based upon this field. <code>survey</code>, <code>lead_generation</code> <code>100</code>"},{"location":"events/survey/survey_step_complete/","title":"Survey Step Complete","text":"<p>Fire whenever a user successfully completes a survey step/section. </p> <p>This event is fired when a step/section of a survey is successfully received and processed. This is in contrast to <code>survey_error</code> which occurs when a submission is attempted but an error occurs and the survey input is not received and processed.</p> <p>Personally Identifiable Information Avoidance</p> <p>It is important to note that the <code>step_choice</code> attribute which can possibly include PII (e.g. freeform input fields, first name, last name, email address, home address, etc.) should be EXCLUDED from this data layer event. For more information, please visit Understanding PII in Google's contracts and policies.</p>"},{"location":"events/survey/survey_step_complete/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// User successfully completes a survey step/section\n// NOTE: step_choice attribute may contain PII data and should be excluded from this event where applicable\n\n// Code:\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null });  // Clear the previous event_data object.\ndataLayer.push({\n  event: 'survey_step_complete',\n  event_data: {\n    identifier: '&lt;identifier&gt;', // REQUIRED | string | ex. cancel_subscription_flow, free_trial\n    name: '&lt;name&gt;', // REQUIRED | string | ex. cancel_subscription_flow, free_trial\n    type: '&lt;type&gt;', // REQUIRED | string | ex. survey, lead_generation\n    step_choice: '&lt;step_choice&gt;', // REQUIRED | string | Radio buttons or select lists only | ex. Too Expensive,Using Another Product/Brand\n    step_choice_method: '&lt;step_choice_method&gt;', // REQUIRED | string | ex. automatic, user-selected\n    step_name: '&lt;step_name&gt;', // REQUIRED | string | ex. why_are_you_cancelling, which_product\n    step_number: '&lt;step_number&gt;' // REQUIRED | integer | ex. 1, 2, 3,4,5\n  }\n});\n</code></pre>"},{"location":"events/survey/survey_step_complete/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Maximum Length identifier <code>string</code> required The survey machine-readable name. This should be a unique value specific to this survey, if one exists. If one does not exist, this can also be populated with the same value as the <code>name</code>. <code>cancel_subscription_flow</code>, <code>free_trial</code> <code>100</code> name <code>string</code> required The survey human-readable name. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify the survey with. It should be lowercase snake_case. <code>cancel_subscription_flow</code>, <code>free_trial</code> <code>100</code> type <code>string</code> required The survey type. This will act as a filtering mechanism in reporting to enable analysts to view survey droppoff funnels. It can also act as an internal aid in firing additional events if necessary. For instance, lead-generating surveys require a <code>generate_lead</code> event to be fired alongside <code>complete_survey</code>, and that could be written into the logic based upon this field. <code>survey</code>, <code>lead_generation</code> <code>100</code> step_choice <code>string</code> required The human-readable, user-selected value(s) within a step/section of a survey. <code>Too Expensive</code>,<code>Using Another Product/Brand</code> <code>100</code> step_choice_method <code>string</code> required This was initially scoped for skin360 as the survey can assign you a primary skin concern or you can choose one yourself. It can be used beyond that application for any time you need additional context around the step choice. <code>automatic</code>,<code>user-selected</code> <code>100</code> step_name <code>string</code> required The human-readable name of the current step of the survey. <code>why_are_you_cancelling</code>,<code>which_product</code> <code>100</code> step_number <code>integer</code> required The current step/section integer of the survey flow. <code>1</code>,<code>2</code>,<code>3</code>,<code>4</code>,<code>5</code> <code>100</code>"},{"location":"events/survey/survey_view/","title":"Survey View","text":"<p>Fire whenever a user is presented with a survey on a page.</p>"},{"location":"events/survey/survey_view/#html-data-attributes","title":"HTML Data Attributes","text":"<p>This could be done with data attributes and detected via GTM at DOM Ready, but if a survey is dynamically added to the page at any time, it would not be picked up. As such, manually firing the data layer push whenever a survey is loaded is a more reliable approach.</p>"},{"location":"events/survey/survey_view/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// User presented with survey on a page\n\n// Code:\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null });  // Clear the previous event_data object.\ndataLayer.push({\n  event: 'survey_view',\n  event_data: {\n    identifier: '&lt;identifier&gt;', // REQUIRED | string | ex. cancel_subscription_flow, free_trial\n    name: '&lt;name&gt;', // REQUIRED | string | ex. cancel_subscription_flow, free_trial\n    type: '&lt;type&gt;' // REQUIRED | string | ex. survey, lead_generation\n  }\n});\n</code></pre>"},{"location":"events/survey/survey_view/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Maximum Length identifier <code>string</code> required The survey machine-readable name. This should be a unique value specific to this survey, if one exists. If one does not exist, this can also be populated with the same value as the <code>name</code>. <code>cancel_subscription_flow</code>, <code>free_trial</code> <code>100</code> name <code>string</code> required The survey human-readable name. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify the survey with. It should be lowercase snake_case. <code>cancel_subscription_flow</code>, <code>free_trial</code> <code>100</code> type <code>string</code> required The survey type. This will act as a filtering mechanism in reporting to enable analysts to view survey droppoff funnels. It can also act as an internal aid in firing additional events if necessary. For instance, lead-generating surveys require a <code>generate_lead</code> event to be fired alongside <code>complete_survey</code>, and that could be written into the logic based upon this field. <code>survey</code>, <code>lead_generation</code> <code>100</code>"},{"location":"events/tabs/select_tab/","title":"Select Tab","text":"<p>Fire whenever a user selects an item out of a tabset that asynchronously updates the page. Do not use this for navigation menus as those should be covered by menu data attributes.</p>"},{"location":"events/tabs/select_tab/#html-data-attributes","title":"HTML Data Attributes","text":"<pre><code>&lt;a href=\"&lt;link_url&gt;\"\n  data-layer-event=\"select_tab\"\n  data-layer-identifier=\"&lt;identifier&gt;\"\n  data-layer-name=\"&lt;name&gt;\"\n  data-layer-heading=\"&lt;heading&gt;\"\n  data-layer-index=\"&lt;index&gt;\"\n&gt;\n</code></pre>"},{"location":"events/tabs/select_tab/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// User selects an item in a tabset that asynchronously updates page. Not for navigation menu use.\n\n// Code:\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null });  // Clear the previous event_data object.\ndataLayer.push({\n  event: \"select_tab\",\n  event_data: {\n    identifier: \"&lt;identifier&gt;\", // REQUIRED | string | ex. 12345abcde12345\n    name: \"&lt;name&gt;\", // REQUIRED | string | ex. FAQs\n    heading: \"&lt;heading&gt;\", // REQUIRED | string | ex. Are our products safe?\n    index: \"&lt;index&gt;\", // REQUIRED | integer | ex 1, 5\n  }\n});\n</code></pre>"},{"location":"events/tabs/select_tab/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Pattern Maximum Length Minimum Value identifier <code>string</code> required The computer-readable machine name of the tab. Use UUID provided by the component <code>12345abcde12345</code> <code>100</code> name <code>string</code> recommended The human-readable name of the tab. If user does not input one, populate with numerical index of which tab this is on the page (1-indexed). FAQs are the big one that currently need to be broken out in reporting, so getting a name for those should be the priority. <code>FAQs</code> <code>100</code> heading <code>string</code> required The text heading of the tab item that was opened/closed <code>\"Are our products safe?\"</code> <code>100</code> index <code>integer</code> recommended The ordinal slot number of the tab item. E.g. - the top item in the tab will be slot 1. (1-indexed) <code>1</code>, <code>2</code>, <code>3</code>, <code>4</code>, <code>5</code> <code>[0-9]+</code> <code>100</code> <code>1</code>"},{"location":"events/video/video_complete/","title":"Video Complete","text":"<p>Fire whenever a video ends. This will usually be picked up automatically by GTM on desktop but may need to be manually sent on mobile.</p>"},{"location":"events/video/video_complete/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// Video ends, useful for mobile videos\n\n// Code\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null });  // Clear the previous event_data object.\ndataLayer.push({\n  event: 'video_complete',\n  event_data: {\n    identifier: '&lt;identifier&gt;', // REQUIRED | string | ex. 2023 My Video For All, 2023 Product Holiday Launch\n    name: '&lt;name&gt;', // REQUIRED | string | ex. 2023 My Video For All, 2023 Product Holiday Launch\n    type: '&lt;type&gt;', // REQUIRED | string | ex. public, internal, brand awareness, lead_generation\n    video_current_time: '&lt;video_current_time&gt;', // REQUIRED | string | ex. 15\n    video_duration: '&lt;video_duration&gt;', // REQUIRED | string | ex. 600\n    video_percent: '&lt;video_percent&gt;', // REQUIRED | string | ex. 15\n    video_provider: '&lt;video_provider&gt;', // REQUIRED | string | ex. youtube, vimeo, firework, twitch\n    video_title: '&lt;video_title&gt;', // REQUIRED | string | ex. My Video\n    video_url: '&lt;video_url&gt;', // REQUIRED | string | https://youtu.be/12345ABC\n    visible: '&lt;visible&gt;', // REQUIRED | boolean | ex. true\n  }\n});\n</code></pre>"},{"location":"events/video/video_complete/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Maximum Length identifier <code>string</code> required The video livestream machine-readable name. This should be a unique value specific to this video livestream, if one exists. If one does not exist, this can also be populated with the same value as the <code>name</code>. <code>2023 My Video For All</code>, <code>2023 Product Holiday Launch</code> <code>100</code> name <code>string</code> required The video livestream human-readable name. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify the video livestream with. It should be lowercase snake_case. <code>2023 My Video For All</code>, <code>2023 Product Holiday Launch</code> <code>100</code> type <code>string</code> required The video livestream type. This will act as a filtering mechanism in reporting to enable analysts to view video livestream dropoff funnels. It can also act as an internal aid in firing additional events if necessary. For instance, a lead-generating video livestream requires a <code>generate_lead</code> event to be fired alongside <code>video_livestream_complete</code>, and that could be written into the logic based upon this field. <code>public</code>,<code>internal</code>,<code>brand awareness</code>, <code>lead_generation</code> <code>100</code> video_current_time <code>string</code> required The current time of the video viewed. <code>15</code> <code>100</code> video_duration <code>string</code> required The total duration of the video. <code>600</code> <code>100</code> video_percent <code>string</code> required The current percent of the video viewed. <code>15</code> <code>100</code> video_provider <code>string</code> required The video provider. <code>youtube</code>, <code>vimeo</code>, <code>firework</code>, <code>twitch</code> <code>100</code> video_title <code>string</code> required The title of the video. <code>My Video</code> <code>100</code> video_url <code>string</code> required The URL of the video. <code>https://youtu.be/RhS85WQiBLU</code> <code>100</code> visible <code>boolean</code> required Is the video visible on the page. <code>true</code> <code>100</code>"},{"location":"events/video/video_progress/","title":"Video Progress","text":"<p>Fire whenever a video progresses past 10%, 25%, 50%, and 75% duration time. This will usually be picked up automatically by GTM on desktop but may need to be manually sent on mobile.</p>"},{"location":"events/video/video_progress/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// Video progresses past 10%, 25%, 50%, 75% duration time, useful for mobile\n\n// Code\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null });  // Clear the previous event_data object.\ndataLayer.push({\n  event: 'video_start',\n  event_data: {\n    identifier: '&lt;identifier&gt;', // REQUIRED | string | ex. 2023 My Video For All, 2023 Product Holiday Launch\n    name: '&lt;name&gt;', // REQUIRED | string | ex. 2023 My Video For All, 2023 Product Holiday Launch\n    type: '&lt;type&gt;', // REQUIRED | string | ex. public, internal, brand awareness, lead_generation\n    video_current_time: '&lt;video_current_time&gt;', // REQUIRED | string | ex. 15\n    video_duration: '&lt;video_duration&gt;', // REQUIRED | string | ex. 600\n    video_percent: '&lt;video_percent&gt;', // REQUIRED | string | ex. 15\n    video_provider: '&lt;video_provider&gt;', // REQUIRED | string | ex. youtube, vimeo, firework, twitch\n    video_title: '&lt;video_title&gt;', // REQUIRED | string | ex. My Video\n    video_url: '&lt;video_url&gt;', // REQUIRED | string | https://youtu.be/12345ABC\n    visible: '&lt;visible&gt;', // REQUIRED | boolean | ex. true\n  }\n});\n</code></pre>"},{"location":"events/video/video_progress/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Maximum Length identifier <code>string</code> required The video livestream machine-readable name. This should be a unique value specific to this video livestream, if one exists. If one does not exist, this can also be populated with the same value as the <code>name</code>. <code>2023 My Video For All</code>, <code>2023 Product Holiday Launch</code> <code>100</code> name <code>string</code> required The video livestream human-readable name. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify the video livestream with. It should be lowercase snake_case. <code>2023 My Video For All</code>, <code>2023 Product Holiday Launch</code> <code>100</code> type <code>string</code> required The video livestream type. This will act as a filtering mechanism in reporting to enable analysts to view video livestream dropoff funnels. It can also act as an internal aid in firing additional events if necessary. For instance, a lead-generating video livestream requires a <code>generate_lead</code> event to be fired alongside <code>video_livestream_complete</code>, and that could be written into the logic based upon this field. <code>public</code>,<code>internal</code>,<code>brand awareness</code>, <code>lead_generation</code> <code>100</code> video_current_time <code>string</code> required The current time of the video viewed. <code>15</code> <code>100</code> video_duration <code>string</code> required The total duration of the video. <code>600</code> <code>100</code> video_percent <code>string</code> required The current percent of the video viewed. <code>15</code> <code>100</code> video_provider <code>string</code> required The video provider. <code>youtube</code>, <code>vimeo</code>, <code>firework</code>, <code>twitch</code> <code>100</code> video_title <code>string</code> required The title of the video. <code>My Video</code> <code>100</code> video_url <code>string</code> required The URL of the video. <code>https://youtu.be/RhS85WQiBLU</code> <code>100</code> visible <code>boolean</code> required Is the video visible on the page. <code>true</code> <code>100</code>"},{"location":"events/video/video_start/","title":"Video Start","text":"<p>Fire whenever a user starts a video. This will usually be picked up automatically by GTM on desktop but may need to be manually sent on mobile.</p>"},{"location":"events/video/video_start/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// Video starts, useful for mobile\n\n// Code\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null });  // Clear the previous event_data object.\ndataLayer.push({\n  event: 'video_start',\n  event_data: {\n    identifier: '&lt;identifier&gt;', // REQUIRED | string | ex. 2023 My Video For All, 2023 Product Holiday Launch\n    name: '&lt;name&gt;', // REQUIRED | string | ex. 2023 My Video For All, 2023 Product Holiday Launch\n    type: '&lt;type&gt;', // REQUIRED | string | ex. public, internal, brand awareness, lead_generation\n    video_current_time: '&lt;video_current_time&gt;', // REQUIRED | string | ex. 15\n    video_duration: '&lt;video_duration&gt;', // REQUIRED | string | ex. 600\n    video_percent: '&lt;video_percent&gt;', // REQUIRED | string | ex. 15\n    video_provider: '&lt;video_provider&gt;', // REQUIRED | string | ex. youtube, vimeo, firework, twitch\n    video_title: '&lt;video_title&gt;', // REQUIRED | string | ex. My Video\n    video_url: '&lt;video_url&gt;', // REQUIRED | string | https://youtu.be/12345ABC\n    visible: '&lt;visible&gt;', // REQUIRED | boolean | ex. true\n  }\n});\n</code></pre>"},{"location":"events/video/video_start/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Maximum Length identifier <code>string</code> required The video livestream machine-readable name. This should be a unique value specific to this video livestream, if one exists. If one does not exist, this can also be populated with the same value as the <code>name</code>. <code>2023 My Video For All</code>, <code>2023 Product Holiday Launch</code> <code>100</code> name <code>string</code> required The video livestream human-readable name. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify the video livestream with. It should be lowercase snake_case. <code>2023 My Video For All</code>, <code>2023 Product Holiday Launch</code> <code>100</code> type <code>string</code> required The video livestream type. This will act as a filtering mechanism in reporting to enable analysts to view video livestream dropoff funnels. It can also act as an internal aid in firing additional events if necessary. For instance, a lead-generating video livestream requires a <code>generate_lead</code> event to be fired alongside <code>video_livestream_complete</code>, and that could be written into the logic based upon this field. <code>public</code>,<code>internal</code>,<code>brand awareness</code>, <code>lead_generation</code> <code>100</code> video_current_time <code>string</code> required The current time of the video viewed. <code>15</code> <code>100</code> video_duration <code>string</code> required The total duration of the video. <code>600</code> <code>100</code> video_percent <code>string</code> required The current percent of the video viewed. <code>15</code> <code>100</code> video_provider <code>string</code> required The video provider. <code>youtube</code>, <code>vimeo</code>, <code>firework</code>, <code>twitch</code> <code>100</code> video_title <code>string</code> required The title of the video. <code>My Video</code> <code>100</code> video_url <code>string</code> required The URL of the video. <code>https://youtu.be/RhS85WQiBLU</code> <code>100</code> visible <code>boolean</code> required Is the video visible on the page. <code>true</code> <code>100</code>"},{"location":"events/video%20stream/video_livestream_compelete/","title":"Video Livestream Complete","text":"<p>Fire whenever a user completes a live stream video. </p>"},{"location":"events/video%20stream/video_livestream_compelete/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// Video starts, useful for mobile\n\n// Code\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null });  // Clear the previous event_data object.\ndataLayer.push({\n  event: 'video_livestream_complete',\n  event_data: {\n    identifier: '&lt;identifier&gt;', // REQUIRED | string | ex. 2023 My Video For All, 2023 Product Holiday Launch\n    name: '&lt;name&gt;', // REQUIRED | string | ex. 2023 My Video For All, 2023 Product Holiday Launch\n    type: '&lt;type&gt;', // REQUIRED | string | ex. public, internal, brand awareness, lead_generation\n    video_current_time: '&lt;video_current_time&gt;', // REQUIRED | string | ex. 15\n    video_duration: '&lt;video_duration&gt;', // REQUIRED | string | ex. 600\n    video_percent: '&lt;video_percent&gt;', // REQUIRED | string | ex. 15\n    video_provider: '&lt;video_provider&gt;', // REQUIRED | string | ex. youtube, vimeo, firework, twitch\n    video_title: '&lt;video_title&gt;', // REQUIRED | string | ex. My Video\n    video_url: '&lt;video_url&gt;', // REQUIRED | string | https://youtu.be/12345ABC\n    visible: '&lt;visible&gt;', // REQUIRED | boolean | ex. true\n  }\n});\n</code></pre>"},{"location":"events/video%20stream/video_livestream_compelete/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Maximum Length identifier <code>string</code> required The video livestream machine-readable name. This should be a unique value specific to this video livestream, if one exists. If one does not exist, this can also be populated with the same value as the <code>name</code>. <code>2023 My Video For All</code>, <code>2023 Product Holiday Launch</code> <code>100</code> name <code>string</code> required The video livestream human-readable name. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify the video livestream with. It should be lowercase snake_case. <code>2023 My Video For All</code>, <code>2023 Product Holiday Launch</code> <code>100</code> type <code>string</code> required The video livestream type. This will act as a filtering mechanism in reporting to enable analysts to view video livestream dropoff funnels. It can also act as an internal aid in firing additional events if necessary. For instance, a lead-generating video livestream requires a <code>generate_lead</code> event to be fired alongside <code>video_livestream_complete</code>, and that could be written into the logic based upon this field. <code>public</code>,<code>internal</code>,<code>brand awareness</code>, <code>lead_generation</code> <code>100</code> video_current_time <code>string</code> required The current time of the video viewed. <code>15</code> <code>100</code> video_duration <code>string</code> required The total duration of the video. <code>600</code> <code>100</code> video_percent <code>string</code> required The current percent of the video viewed. <code>15</code> <code>100</code> video_provider <code>string</code> required The video provider. <code>youtube</code>, <code>vimeo</code>, <code>firework</code>, <code>twitch</code> <code>100</code> video_title <code>string</code> required The title of the video. <code>My Video</code> <code>100</code> video_url <code>string</code> required The URL of the video. <code>https://youtu.be/RhS85WQiBLU</code> <code>100</code> visible <code>boolean</code> required Is the video visible on the page. <code>true</code> <code>100</code>"},{"location":"events/video%20stream/video_livestream_exit/","title":"Video Livestream Exit","text":"<p>Fire whenever a user exits a live stream video.</p>"},{"location":"events/video%20stream/video_livestream_exit/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// Video starts, useful for mobile\n\n// Code\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null });  // Clear the previous event_data object.\ndataLayer.push({\n  event: 'video_livestream_exit',\n  event_data: {\n    identifier: '&lt;identifier&gt;', // REQUIRED | string | ex. 2023 My Video For All, 2023 Product Holiday Launch\n    name: '&lt;name&gt;', // REQUIRED | string | ex. 2023 My Video For All, 2023 Product Holiday Launch\n    type: '&lt;type&gt;', // REQUIRED | string | ex. public, internal, brand awareness, lead_generation\n    video_current_time: '&lt;video_current_time&gt;', // REQUIRED | string | ex. 15\n    video_duration: '&lt;video_duration&gt;', // REQUIRED | string | ex. 600\n    video_percent: '&lt;video_percent&gt;', // REQUIRED | string | ex. 15\n    video_provider: '&lt;video_provider&gt;', // REQUIRED | string | ex. youtube, vimeo, firework, twitch\n    video_title: '&lt;video_title&gt;', // REQUIRED | string | ex. My Video\n    video_url: '&lt;video_url&gt;', // REQUIRED | string | https://youtu.be/12345ABC\n    visible: '&lt;visible&gt;', // REQUIRED | boolean | ex. true\n  }\n});\n</code></pre>"},{"location":"events/video%20stream/video_livestream_exit/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Maximum Length identifier <code>string</code> required The video livestream machine-readable name. This should be a unique value specific to this video livestream, if one exists. If one does not exist, this can also be populated with the same value as the <code>name</code>. <code>2023 My Video For All</code>, <code>2023 Product Holiday Launch</code> <code>100</code> name <code>string</code> required The video livestream human-readable name. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify the video livestream with. It should be lowercase snake_case. <code>2023 My Video For All</code>, <code>2023 Product Holiday Launch</code> <code>100</code> type <code>string</code> required The video livestream type. This will act as a filtering mechanism in reporting to enable analysts to view video livestream dropoff funnels. It can also act as an internal aid in firing additional events if necessary. For instance, a lead-generating video livestream requires a <code>generate_lead</code> event to be fired alongside <code>video_livestream_exit</code>, and that could be written into the logic based upon this field. <code>public</code>,<code>internal</code>,<code>brand awareness</code>, <code>lead_generation</code> <code>100</code> video_current_time <code>string</code> required The current time of the video viewed. <code>15</code> <code>100</code> video_duration <code>string</code> required The total duration of the video. <code>600</code> <code>100</code> video_percent <code>string</code> required The current percent of the video viewed. <code>15</code> <code>100</code> video_provider <code>string</code> required The video provider. <code>youtube</code>, <code>vimeo</code>, <code>firework</code>, <code>twitch</code> <code>100</code> video_title <code>string</code> required The title of the video. <code>My Video</code> <code>100</code> video_url <code>string</code> required The URL of the video. <code>https://youtu.be/RhS85WQiBLU</code> <code>100</code> visible <code>boolean</code> required Is the video visible on the page. <code>true</code> <code>100</code>"},{"location":"events/video%20stream/video_livestream_start/","title":"Video Livestream Start","text":"<p>Fire whenever a user starts a live stream video. This will usually be picked up automatically by GTM on desktop but may need to be manually sent on mobile.</p>"},{"location":"events/video%20stream/video_livestream_start/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// Video starts, useful for mobile\n\n// Code\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null });  // Clear the previous event_data object.\ndataLayer.push({\n  event: 'video_livestream_start',\n  event_data: {\n    identifier: '&lt;identifier&gt;', // REQUIRED | string | ex. 2023 My Video For All, 2023 Product Holiday Launch\n    name: '&lt;name&gt;', // REQUIRED | string | ex. 2023 My Video For All, 2023 Product Holiday Launch\n    type: '&lt;type&gt;', // REQUIRED | string | ex. public, internal, brand awareness, lead_generation\n    video_current_time: '&lt;video_current_time&gt;', // REQUIRED | string | ex. 15\n    video_duration: '&lt;video_duration&gt;', // REQUIRED | string | ex. 600\n    video_percent: '&lt;video_percent&gt;', // REQUIRED | string | ex. 15\n    video_provider: '&lt;video_provider&gt;', // REQUIRED | string | ex. youtube, vimeo, firework, twitch\n    video_title: '&lt;video_title&gt;', // REQUIRED | string | ex. My Video\n    video_url: '&lt;video_url&gt;', // REQUIRED | string | https://youtu.be/12345ABC\n    visible: '&lt;visible&gt;', // REQUIRED | boolean | ex. true\n  }\n});\n</code></pre>"},{"location":"events/video%20stream/video_livestream_start/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Maximum Length identifier <code>string</code> required The video livestream machine-readable name. This should be a unique value specific to this video livestream, if one exists. If one does not exist, this can also be populated with the same value as the <code>name</code>. <code>2023 My Video For All</code>, <code>2023 Product Holiday Launch</code> <code>100</code> name <code>string</code> required The video livestream human-readable name. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify the video livestream with. It should be lowercase snake_case. <code>2023 My Video For All</code>, <code>2023 Product Holiday Launch</code> <code>100</code> type <code>string</code> required The video livestream type. This will act as a filtering mechanism in reporting to enable analysts to view video livestream dropoff funnels. It can also act as an internal aid in firing additional events if necessary. For instance, a lead-generating video livestream requires a <code>generate_lead</code> event to be fired alongside <code>video_livestream_exit</code>, and that could be written into the logic based upon this field. <code>public</code>,<code>internal</code>,<code>brand awareness</code>, <code>lead_generation</code> <code>100</code> video_current_time <code>string</code> required The current time of the video viewed. <code>15</code> <code>100</code> video_duration <code>string</code> required The total duration of the video. <code>600</code> <code>100</code> video_percent <code>string</code> required The current percent of the video viewed. <code>15</code> <code>100</code> video_provider <code>string</code> required The video provider. <code>youtube</code>, <code>vimeo</code>, <code>firework</code>, <code>twitch</code> <code>100</code> video_title <code>string</code> required The title of the video. <code>My Video</code> <code>100</code> video_url <code>string</code> required The URL of the video. <code>https://youtu.be/RhS85WQiBLU</code> <code>100</code> visible <code>boolean</code> required Is the video visible on the page. <code>true</code> <code>100</code>"},{"location":"events/where-to-buy/call_store_wtb/","title":"Call Store WTB","text":"<p>Fire whenever a user successfully calls a store.</p> <code>item_</code> parameters in the below schema are NOT the same as <code>item_</code> parameters found in the ecommerce items schmea. <p>The parameters found in this event are for event collection only and will not impact ecommerce-related events, dimensions, or metrics. </p>"},{"location":"events/where-to-buy/call_store_wtb/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// User successfully calls a store.\n\n// Code:\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null, user_data: null });  // Clear the previous event_data and user_data objects.\ndataLayer.push({\n  event: \"call_store_wtb\",\n  event_data: {\n    identifier: '&lt;identifier&gt;', // REQUIRED | string | ex. contact, lead_generation\n    name: '&lt;name&gt;', // REQUIRED | string | ex. contact, lead_generation \n    affiliation: \"&lt;affiliation&gt;\", // REQUIRED | string | ex. walmart, cvs\n    component_type: \"&lt;component_type&gt;\", // REQUIRED | string | ex. pricespider, channeladvisor\n    item_brand: \"&lt;item_brand&gt;\", // REQUIRED | string | ex. tylenol, zyrtec, listerine\n    item_id: \"&lt;item_id&gt;\", // REQUIRED | string | ex. CW21001\n    item_name: \"&lt;item_name&gt;\", // REQUIRED | string | ex. essential_foaming_cleanser \n    item_upc: \"&lt;item_upc&gt;\", // contextual | string | ex. 012345678905 (12 digits)\n    link_url: \"&lt;link_url&gt;\" // REQUIRED | string | ex. https://www.example.com/?q=product#id\n  }\n});\n</code></pre>"},{"location":"events/where-to-buy/call_store_wtb/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Maximum Length identifier <code>string</code> required The wtb-event machine-readable name. This should be a unique value specific to this piece of content, if one exists. If one does not exist, this can also be populated with the same value as the . <code>contact</code>, <code>lead_generation</code> <code>100</code> name <code>string</code> required The wtb-event human-readable name. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify the event with. It should be lowercase snake_case. <code>contact</code>, <code>lead_generation</code> <code>100</code> affiliation <code>string</code> required This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify. It should be lowercase snake_case <code>walmart</code>, <code>cvs</code> <code>100</code> component_type <code>string</code> required The human-readable name of the WTB Provider. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify. It should be lowercase snake_case. <code>pricespider</code>, <code>channeladvisor</code> <code>100</code> item_brand <code>string</code> required The human-readable name of the brand. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify. It should be lowercase snake_case <code>tylenol</code>, <code>zyrtec</code>, <code>listerine</code> <code>100</code> item_id <code>string</code> required SKU ID of the product a customer would be calling a store about. <code>CW21001</code> <code>100</code> item_name <code>string</code> required The human-readable product name. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify. It should be lowercase snake_case <code>essential_foaming_cleanser</code> <code>100</code> item_upc <code>string</code> contextual UPC ID of the product a customer would be calling a store about. <code>012345678905</code> <code>100</code> link_url <code>string</code> required This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify. It should be lowercase snake_case <code>https://www.example.com?q=product#id</code> <code>100</code>"},{"location":"events/where-to-buy/cta_click_wtb/","title":"CTA Click WTB","text":"<p>Fire whenever a user successfully clicks on a WTB CTA link.</p> <p>This event will be automatically detected and fired if the data attributes below are added to each link (<code>&lt;a&gt;</code> tag if possible, but if there is no <code>&lt;a&gt;</code> tag then add them to the <code>&lt;div&gt;</code> or other tag that represents the link).</p> <code>item_</code> parameters in the below schema are NOT the same as <code>item_</code> parameters found in the ecommerce items schmea. <p>The parameters found in this event are for event collection only and will not impact ecommerce-related events, dimensions, or metrics. </p>"},{"location":"events/where-to-buy/cta_click_wtb/#html-data-attributes","title":"HTML Data Attributes","text":"<pre><code>&lt;div\n  data-layer-event=\"cta_click_wtb\"\n  data-layer-identifier=\"&lt;identifier&gt;\"\n  data-layer-name=\"&lt;name&gt;\"\n  data-layer-affiliation=\"&lt;affiliation&gt;\"\n  data-layer-component_type=\"&lt;component_type&gt;\"\n  data-layer-component_type=\"&lt;item_brand&gt;\"\n  data-layer-category=\"&lt;category&gt;\"\n  data-layer-discount=\"&lt;discount&gt;\"\n  data-layer-item_id=\"&lt;item_id&gt;\"\n  data-layer-item_name=\"&lt;item_name&gt;\"\n  data-layer-link_text=\"&lt;link_text&gt;\"\n  data-layer-link_text=\"&lt;item_upc&gt;\"\n  data-layer-link_url=\"&lt;link_url&gt;\"\n  data-layer-price=\"&lt;price&gt;\"\n&gt;\n</code></pre>"},{"location":"events/where-to-buy/cta_click_wtb/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// User clicks on a CTA link\n// NOTE: Event is automatically fired if the attributes are added to an HTML anchor element\n// or HTML element representing a link\n\n// Code:\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null });  // Clear the previous event_data object.\ndataLayer.push({\n  event: \"cta_click_wtb\",\n  event_data: {\n    identifier: '&lt;identifier&gt;', // REQUIRED | string | ex. contact, lead_generation\n    name: '&lt;name&gt;', // REQUIRED | string | ex. contact, lead_generation \n    affiliation: \"&lt;affiliation&gt;\", //REQUIRED | string | ex. Amazon.com, Walmart.com, CVS\n    component_type: \"&lt;component_type&gt;\", // REQUIRED | string | ex. pricespider, channeladvisor\n    item_brand: \"&lt;item_brand&gt;\", // REQUIRED | string | ex. tylenol, zyrtec, listerine\n    category: \"&lt;category&gt;\", // contextual | string | ex. find online, find locally\n    discount: \"&lt;discount&gt;\", // contextual | number | ex. 2.22\n    item_id: \"&lt;item_id&gt;\", // REQUIRED | string | ex. SKU_12345\n    item_name: \"&lt;item_name&gt;\", // REQUIRED | string | ex. jeggings\n    link_text: \"&lt;link_text&gt;\", // REQUIRED | string | ex. Add to Cart, Buy Now, Get Directions, store hours\n    item_upc: \"&lt;item_upc&gt;\", // contextual | string | ex. 012345678905 (12 digits)\n    link_url: \"&lt;link_url&gt;\", // REQUIRED | string | ex. https://www.example.com/link?test=testing\n    price: \"&lt;price&gt;\", // contextual | string | ex. 9.99\n  }\n});\n</code></pre>"},{"location":"events/where-to-buy/cta_click_wtb/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Maximum Length identifier <code>string</code> required The wtb-event machine-readable name. This should be a unique value specific to this piece of content, if one exists. If one does not exist, this can also be populated with the same value as the . <code>contact</code>, <code>lead_generation</code> <code>100</code> name <code>string</code> required The wtb-event human-readable name. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify the event with. It should be lowercase snake_case. <code>contact</code>, <code>lead_generation</code> <code>100</code> affiliation <code>string</code> required This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify. It should be lowercase snake_case <code>walmart</code>, <code>cvs</code> <code>100</code> component_type <code>string</code> required The human-readable name of the WTB Provider. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify. It should be lowercase snake_case. <code>pricespider</code>, <code>channeladvisor</code> <code>100</code> item_brand <code>string</code> required The human-readable name of the brand. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify. It should be lowercase snake_case <code>tylenol</code>, <code>zyrtec</code>, <code>listerine</code> <code>100</code> category <code>string</code> contextual Used to differentiate buy online versus buy locally. <code>find online,find locally</code> <code>100</code> discount <code>number</code> contextual Monetary value of discount associated with a purchase. <code>2.22</code> <code>100</code> item_id <code>string</code> required SKU ID of the product a customer would be calling a store about. <code>CW21001</code> <code>100</code> item_name <code>string</code> required The human-readable product name. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify. It should be lowercase snake_case <code>essential_foaming_cleanser</code> <code>100</code> item_upc <code>string</code> contextual UPC ID of the product a customer would be calling a store about. <code>012345678905</code> <code>100</code> link_url <code>string</code> required This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify. It should be lowercase snake_case <code>https://www.example.com?q=product#id</code> <code>100</code> price number contextual The monetary price of the item, in units of the specified currency parameter. <code>9.99</code> <code>100</code>"},{"location":"events/where-to-buy/get_directions_wtb/","title":"Get Directions WTB","text":"<p>Fire whenever a user successfully gets directions to local store.</p>"},{"location":"events/where-to-buy/get_directions_wtb/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// User successfully gets directions to local store.\n\n// Code:\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null, user_data: null });  // Clear the previous event_data object.\ndataLayer.push({\n  event: \"get_directions_wtb\",\n  event_data: {\n    identifier: '&lt;identifier&gt;', // REQUIRED | string | ex. contact, lead_generation\n    name: '&lt;name&gt;', // REQUIRED | string | ex. contact, lead_generation \n    affiliation: \"&lt;affiliation&gt;\", // REQUIRED | string | ex. walmart, cvs\n    component_type: \"&lt;component_type&gt;\", // REQUIRED | string | ex. pricespider, channeladvisor\n    item_brand: \"&lt;item_brand&gt;\", // REQUIRED | string | ex. tylenol, zyrtec, listerine\n    item_id: \"&lt;item_id&gt;\", // REQUIRED | string | ex. CW21001\n    item_name: \"&lt;item_name&gt;\", // REQUIRED | string | ex. essential_foaming_cleanser \n    item_upc: \"&lt;item_upc&gt;\", // contextual | string | ex. 012345678905 (12 digits)\n    link_url: \"&lt;link_url&gt;\" // REQUIRED | string | ex. https://www.example.com/?q=product#id\n  }\n});\n</code></pre>"},{"location":"events/where-to-buy/get_directions_wtb/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Maximum Length identifier <code>string</code> required The wtb-event machine-readable name. This should be a unique value specific to this piece of content, if one exists. If one does not exist, this can also be populated with the same value as the . <code>contact</code>, <code>lead_generation</code> <code>100</code> name <code>string</code> required The wtb-event human-readable name. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify the event with. It should be lowercase snake_case. <code>contact</code>, <code>lead_generation</code> <code>100</code> affiliation <code>string</code> required This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify. It should be lowercase snake_case <code>walmart</code>, <code>cvs</code> <code>100</code> component_type <code>string</code> required The human-readable name of the WTB Provider. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify. It should be lowercase snake_case. <code>pricespider</code>, <code>channeladvisor</code> <code>100</code> item_brand <code>string</code> required The human-readable name of the brand. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify. It should be lowercase snake_case <code>tylenol</code>, <code>zyrtec</code>, <code>listerine</code> <code>100</code> item_id <code>string</code> required SKU ID of the product a customer would be calling a store about. <code>CW21001</code> <code>100</code> item_name <code>string</code> required The human-readable product name. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify. It should be lowercase snake_case <code>essential_foaming_cleanser</code> <code>100</code> item_upc <code>string</code> contextual UPC ID of the product a customer would be calling a store about. <code>012345678905</code> <code>100</code> link_url <code>string</code> required This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify. It should be lowercase snake_case <code>https://www.example.com?q=product#id</code> <code>100</code>"},{"location":"events/where-to-buy/local_tab_wtb/","title":"Switch to Local Tab","text":"<p>Fire whenever a user successfully switches to the local tab within the WTB tool.</p>"},{"location":"events/where-to-buy/local_tab_wtb/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// User successfully switches to the local tab within the WTB tool.\n\n// Code:\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null, user_data: null });  // Clear the previous event_data object.\ndataLayer.push({\n  event: \"local_tab_wtb\",\n  event_data: {\n    identifier: '&lt;identifier&gt;', // REQUIRED | string | ex. contact, lead_generation\n    name: '&lt;name&gt;', // REQUIRED | string | ex. contact, lead_generation \n    affiliation: \"&lt;affiliation&gt;\", //REQUIRED | string | ex. Amazon.com, Walmart.com, CVS\n    component_type: \"&lt;component_type&gt;\", // REQUIRED | string | ex. pricespider, channeladvisor\n    item_brand: \"&lt;item_brand&gt;\", // REQUIRED | string | ex. tylenol, zyrtec, listerine\n    category: \"&lt;category&gt;\", // contextual | string | ex. find online, find locally\n    item_id: \"&lt;item_id&gt;\", // REQUIRED | string | ex. SKU_12345\n    item_name: \"&lt;item_name&gt;\", // REQUIRED | string | ex. jeggings\n    link_text: \"&lt;link_text&gt;\", // REQUIRED | string | ex. Add to Cart, Buy Now, Get Directions, store hours\n    item_upc: \"&lt;item_upc&gt;\", // contextual | string | ex. 012345678905 (12 digits)\n    link_url: \"&lt;link_url&gt;\", // REQUIRED | string | ex. https://www.example.com/link?test=testing\n  },\n});\n</code></pre>"},{"location":"events/where-to-buy/local_tab_wtb/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Maximum Length identifier <code>string</code> required The wtb-event machine-readable name. This should be a unique value specific to this piece of content, if one exists. If one does not exist, this can also be populated with the same value as the . <code>contact</code>, <code>lead_generation</code> <code>100</code> name <code>string</code> required The wtb-event human-readable name. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify the event with. It should be lowercase snake_case. <code>contact</code>, <code>lead_generation</code> <code>100</code> affiliation <code>string</code> required This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify. It should be lowercase snake_case <code>walmart</code>, <code>cvs</code> <code>100</code> component_type <code>string</code> required The human-readable name of the WTB Provider. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify. It should be lowercase snake_case. <code>pricespider</code>, <code>channeladvisor</code> <code>100</code> item_brand <code>string</code> required The human-readable name of the brand. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify. It should be lowercase snake_case <code>tylenol</code>, <code>zyrtec</code>, <code>listerine</code> <code>100</code> category <code>string</code> contextual Used to differentiate buy online versus buy locally. <code>find online,find locally</code> <code>100</code> item_id <code>string</code> required SKU ID of the product a customer would be calling a store about. <code>CW21001</code> <code>100</code> item_name <code>string</code> required The human-readable product name. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify. It should be lowercase snake_case <code>essential_foaming_cleanser</code> <code>100</code> item_upc <code>string</code> contextual UPC ID of the product a customer would be calling a store about. <code>012345678905</code> <code>100</code> link_url <code>string</code> required This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify. It should be lowercase snake_case <code>https://www.example.com?q=product#id</code> <code>100</code>"},{"location":"events/where-to-buy/location_set_wtb/","title":"Location Set WTB","text":"<p>Fire whenever a user successfully sets their location. </p>"},{"location":"events/where-to-buy/location_set_wtb/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// User successfully sets their location.\n\n// Code:\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null});  // Clear the previous event_data object.\ndataLayer.push({\n  event: \"location_set_wtb\"\n});\n</code></pre>"},{"location":"events/where-to-buy/location_set_wtb/#variable-definitions","title":"Variable Definitions","text":"<p>This event has no parameters.</p>"},{"location":"events/where-to-buy/online_tab_wtb/","title":"Switch to Online Tab","text":"<p>Fire whenever a user successfully switches to the online tab wiithin the WTB tool.</p>"},{"location":"events/where-to-buy/online_tab_wtb/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// User successfully switches to the online tab within the WTB tool.\n\n// Code:\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null, user_data: null });  // Clear the previous event_data object.\ndataLayer.push({\n  event: \"online_tab_wtb\",\n  event_data: {\n    identifier: '&lt;identifier&gt;', // REQUIRED | string | ex. contact, lead_generation\n    name: '&lt;name&gt;', // REQUIRED | string | ex. contact, lead_generation \n    affiliation: \"&lt;affiliation&gt;\", //REQUIRED | string | ex. Amazon.com, Walmart.com, CVS\n    component_type: \"&lt;component_type&gt;\", // REQUIRED | string | ex. pricespider, channeladvisor\n    item_brand: \"&lt;item_brand&gt;\", // REQUIRED | string | ex. tylenol, zyrtec, listerine\n    category: \"&lt;category&gt;\", // contextual | string | ex. find online, find locally\n    item_id: \"&lt;item_id&gt;\", // REQUIRED | string | ex. SKU_12345\n    item_name: \"&lt;item_name&gt;\", // REQUIRED | string | ex. jeggings\n    link_text: \"&lt;link_text&gt;\", // REQUIRED | string | ex. Add to Cart, Buy Now, Get Directions, store hours\n    item_upc: \"&lt;item_upc&gt;\", // contextual | string | ex. 012345678905 (12 digits)\n    link_url: \"&lt;link_url&gt;\", // REQUIRED | string | ex. https://www.example.com/link?test=testing\n  },\n});\n</code></pre>"},{"location":"events/where-to-buy/online_tab_wtb/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Maximum Length identifier <code>string</code> required The wtb-event machine-readable name. This should be a unique value specific to this piece of content, if one exists. If one does not exist, this can also be populated with the same value as the . <code>contact</code>, <code>lead_generation</code> <code>100</code> name <code>string</code> required The wtb-event human-readable name. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify the event with. It should be lowercase snake_case. <code>contact</code>, <code>lead_generation</code> <code>100</code> affiliation <code>string</code> required This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify. It should be lowercase snake_case <code>walmart</code>, <code>cvs</code> <code>100</code> component_type <code>string</code> required The human-readable name of the WTB Provider. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify. It should be lowercase snake_case. <code>pricespider</code>, <code>channeladvisor</code> <code>100</code> item_brand <code>string</code> required The human-readable name of the brand. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify. It should be lowercase snake_case <code>tylenol</code>, <code>zyrtec</code>, <code>listerine</code> <code>100</code> category <code>string</code> contextual Used to differentiate buy online versus buy locally. <code>find online,find locally</code> <code>100</code> item_id <code>string</code> required SKU ID of the product a customer would be calling a store about. <code>CW21001</code> <code>100</code> item_name <code>string</code> required The human-readable product name. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify. It should be lowercase snake_case <code>essential_foaming_cleanser</code> <code>100</code> item_upc <code>string</code> contextual UPC ID of the product a customer would be calling a store about. <code>012345678905</code> <code>100</code> link_url <code>string</code> required This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify. It should be lowercase snake_case <code>https://www.example.com?q=product#id</code> <code>100</code>"},{"location":"events/where-to-buy/sku_change/","title":"Change Item SKU","text":"<p>Fire whenever a user successfully changes the sku they are looking at within the WTB tool.</p>"},{"location":"events/where-to-buy/sku_change/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// User successfully changes the sku they are looking at within the WTB tool.\n\n// Code:\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null, user_data: null });  // Clear the previous event_data object.\ndataLayer.push({\n  event: \"change_item_sku_wtb\",\n  event_data: {\n    identifier: '&lt;identifier&gt;', // REQUIRED | string | ex. contact, lead_generation\n    name: '&lt;name&gt;', // REQUIRED | string | ex. contact, lead_generation \n    component_type: \"&lt;component_type&gt;\", // REQUIRED | string | ex. pricespider, channeladvisor\n    item_brand: \"&lt;item_brand&gt;\", // REQUIRED | string | ex. tylenol, zyrtec, listerine\n    category: \"&lt;category&gt;\", // contextual | string | ex. find online, find locally\n    item_id: \"&lt;item_id&gt;\", // REQUIRED | string | ex. SKU_12345\n    item_name: \"&lt;item_name&gt;\", // REQUIRED | string | ex. jeggings\n    link_text: \"&lt;link_text&gt;\", // REQUIRED | string | ex. Add to Cart, Buy Now, Get Directions, store hours\n    item_upc: \"&lt;item_upc&gt;\", // contextual | string | ex. 012345678905 (12 digits)\n    link_url: \"&lt;link_url&gt;\", // REQUIRED | string | ex. https://www.example.com/link?test=testing\n  },\n});\n</code></pre>"},{"location":"events/where-to-buy/sku_change/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Maximum Length identifier <code>string</code> required The wtb-event machine-readable name. This should be a unique value specific to this piece of content, if one exists. If one does not exist, this can also be populated with the same value as the . <code>contact</code>, <code>lead_generation</code> <code>100</code> name <code>string</code> required The wtb-event human-readable name. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify the event with. It should be lowercase snake_case. <code>contact</code>, <code>lead_generation</code> <code>100</code> component_type <code>string</code> required The human-readable name of the WTB Provider. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify. It should be lowercase snake_case. <code>pricespider</code>, <code>channeladvisor</code> <code>100</code> item_brand <code>string</code> required The human-readable name of the brand. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify. It should be lowercase snake_case <code>tylenol</code>, <code>zyrtec</code>, <code>listerine</code> <code>100</code> category <code>string</code> contextual Used to differentiate buy online versus buy locally. <code>find online,find locally</code> <code>100</code> item_id <code>string</code> required SKU ID of the product a customer would be calling a store about. <code>CW21001</code> <code>100</code> item_name <code>string</code> required The human-readable product name. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify. It should be lowercase snake_case <code>essential_foaming_cleanser</code> <code>100</code> item_upc <code>string</code> contextual UPC ID of the product a customer would be calling a store about. <code>012345678905</code> <code>100</code> link_url <code>string</code> required This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify. It should be lowercase snake_case <code>https://www.example.com?q=product#id</code> <code>100</code>"},{"location":"events/where-to-buy/widget_closed_wtb/","title":"Widget Closed WTB","text":"<p>Fire whenever a user successfully closes the WTb widget. </p>"},{"location":"events/where-to-buy/widget_closed_wtb/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// User successfully closes the WTB tool.\n\n// Code:\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null});  // Clear the previous event_data object.\ndataLayer.push({\n  event: \"widget_closed_wtb\"  event_data: {\n    identifier: '&lt;identifier&gt;', // REQUIRED | string | ex. contact, lead_generation\n    name: '&lt;name&gt;', // REQUIRED | string | ex. contact, lead_generation \n    affiliation: \"&lt;affiliation&gt;\", // REQUIRED | string | ex. walmart, cvs\n    component_type: \"&lt;component_type&gt;\", // REQUIRED | string | ex. pricespider, channeladvisor\n    item_brand: \"&lt;item_brand&gt;\", // REQUIRED | string | ex. tylenol, zyrtec, listerine\n    item_id: \"&lt;item_id&gt;\", // REQUIRED | string | ex. CW21001\n    item_name: \"&lt;item_name&gt;\", // REQUIRED | string | ex. essential_foaming_cleanser \n    item_upc: \"&lt;item_upc&gt;\", // contextual | string | ex. 012345678905 (12 digits)\n    link_url: \"&lt;link_url&gt;\" // REQUIRED | string | ex. https://www.example.com/?q=product#id\n  }\n});\n</code></pre>"},{"location":"events/where-to-buy/widget_closed_wtb/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Maximum Length identifier <code>string</code> required The wtb-event machine-readable name. This should be a unique value specific to this piece of content, if one exists. If one does not exist, this can also be populated with the same value as the . <code>contact</code>, <code>lead_generation</code> <code>100</code> name <code>string</code> required The wtb-event human-readable name. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify the event with. It should be lowercase snake_case. <code>contact</code>, <code>lead_generation</code> <code>100</code> affiliation <code>string</code> required This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify. It should be lowercase snake_case <code>walmart</code>, <code>cvs</code> <code>100</code> component_type <code>string</code> required The human-readable name of the WTB Provider. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify. It should be lowercase snake_case. <code>pricespider</code>, <code>channeladvisor</code> <code>100</code> item_brand <code>string</code> required The human-readable name of the brand. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify. It should be lowercase snake_case <code>tylenol</code>, <code>zyrtec</code>, <code>listerine</code> <code>100</code> item_id <code>string</code> required SKU ID of the product a customer would be calling a store about. <code>CW21001</code> <code>100</code> item_name <code>string</code> required The human-readable product name. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify. It should be lowercase snake_case <code>essential_foaming_cleanser</code> <code>100</code> item_upc <code>string</code> contextual UPC ID of the product a customer would be calling a store about. <code>012345678905</code> <code>100</code> link_url <code>string</code> required This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify. It should be lowercase snake_case <code>https://www.example.com?q=product#id</code> <code>100</code>"},{"location":"events/where-to-buy/widget_opened_wtb/","title":"Widget Opened WTB","text":"<p>Fire whenever a user successfully opens a WTB widget.</p>"},{"location":"events/where-to-buy/widget_opened_wtb/#javascript-code","title":"Javascript Code","text":"<pre><code>// When:\n// User successfully opens the WTB tool.\n\n// Code:\nwindow.dataLayer = window.dataLayer || [];\ndataLayer.push({ event_data: null, user_data: null });  // Clear the previous event_data object.\ndataLayer.push({\n  event: \"widget_opened_wtb\",\n  event_data: {\n    identifier: '&lt;identifier&gt;', // REQUIRED | string | ex. contact, lead_generation\n    name: '&lt;name&gt;', // REQUIRED | string | ex. contact, lead_generation \n    affiliation: \"&lt;affiliation&gt;\", // REQUIRED | string | ex. walmart, cvs\n    component_type: \"&lt;component_type&gt;\", // REQUIRED | string | ex. pricespider, channeladvisor\n    item_brand: \"&lt;item_brand&gt;\", // REQUIRED | string | ex. tylenol, zyrtec, listerine\n    item_id: \"&lt;item_id&gt;\", // REQUIRED | string | ex. CW21001\n    item_name: \"&lt;item_name&gt;\", // REQUIRED | string | ex. essential_foaming_cleanser \n    item_upc: \"&lt;item_upc&gt;\", // contextual | string | ex. 012345678905 (12 digits)\n    link_url: \"&lt;link_url&gt;\" // REQUIRED | string | ex. https://www.example.com/?q=product#id\n  }\n});\n</code></pre>"},{"location":"events/where-to-buy/widget_opened_wtb/#variable-definitions","title":"Variable Definitions","text":"Field Type Required Description Example Maximum Length identifier <code>string</code> required The wtb-event machine-readable name. This should be a unique value specific to this piece of content, if one exists. If one does not exist, this can also be populated with the same value as the . <code>contact</code>, <code>lead_generation</code> <code>100</code> name <code>string</code> required The wtb-event human-readable name. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify the event with. It should be lowercase snake_case. <code>contact</code>, <code>lead_generation</code> <code>100</code> affiliation <code>string</code> required This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify. It should be lowercase snake_case <code>walmart</code>, <code>cvs</code> <code>100</code> component_type <code>string</code> required The human-readable name of the WTB Provider. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify. It should be lowercase snake_case. <code>pricespider</code>, <code>channeladvisor</code> <code>100</code> item_brand <code>string</code> required The human-readable name of the brand. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify. It should be lowercase snake_case <code>tylenol</code>, <code>zyrtec</code>, <code>listerine</code> <code>100</code> item_id <code>string</code> required SKU ID of the product a customer would be calling a store about. <code>CW21001</code> <code>100</code> item_name <code>string</code> required The human-readable product name. This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify. It should be lowercase snake_case <code>essential_foaming_cleanser</code> <code>100</code> item_upc <code>string</code> contextual UPC ID of the product a customer would be calling a store about. <code>012345678905</code> <code>100</code> link_url <code>string</code> required This should be something that an analyst without a deep knowledge of the technical implementation of the site can easily identify. It should be lowercase snake_case <code>https://www.example.com?q=product#id</code> <code>100</code>"},{"location":"gtm-scripts/kenvue-corporate-global-gtm-script/","title":"Kenvue Corporate GTM Code","text":"<p>This document is a quick reference to implement the GTM Container across all Kenvue corporate sites. For any questions regarding this content please contact Analytics Team - ra-jx2-cbi-digital06@kenvue.com</p>"},{"location":"gtm-scripts/kenvue-corporate-global-gtm-script/#html-code-for-all-production-sites","title":"HTML Code For All Production Sites","text":"<p>Add the following snippet to every page inside the <code>&lt;head&gt;</code> as high as possible:</p> <pre><code>&lt;!-- Google Tag Manager --&gt;\n&lt;script&gt;(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\nnew Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\nj=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src=\n'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n})(window,document,'script','dataLayer','GTM-PL7ZQG9');&lt;/script&gt;\n&lt;!-- End Google Tag Manager --&gt;\n</code></pre> <p>If possible, add this snippet just inside the opening <code>&lt;body&gt;</code> tag:</p> <pre><code>&lt;!-- Google Tag Manager (noscript) --&gt;\n&lt;noscript&gt;&lt;iframe src=\"https://www.googletagmanager.com/ns.html?id=GTM-PL7ZQG9\"\nheight=\"0\" width=\"0\" style=\"display:none;visibility:hidden\"&gt;&lt;/iframe&gt;&lt;/noscript&gt;\n&lt;!-- End Google Tag Manager (noscript) --&gt;\n</code></pre> <p>Note</p> <p>The <code>noscript</code> tag is optional and primarily used for site ownership validation through Google Search Console (there are other ways of validating site ownership). If a user has JS turned off in the browser, the data layer will not work. The only GTM tags available through the iframe-loaded GTM container are custom image tags. More on the GTM noscript tag</p>"},{"location":"gtm-scripts/kenvue-global-brand-gtm-code/","title":"Kenvue DXP GTM Code","text":"<p>This document is a quick reference to implement the GTM Container across all Kenvue Brand/DTC and HCP sites. For any questions regarding this content please contact Analytics Team - ra-jx2-cbi-digital06@kenvue.com</p>"},{"location":"gtm-scripts/kenvue-global-brand-gtm-code/#html-code-for-all-production-sites","title":"HTML Code For All Production Sites","text":"<p>Add the following snippet to every page inside the <code>&lt;head&gt;</code> as high as possible:</p> <pre><code>&lt;!-- Google Tag Manager --&gt;\n&lt;script&gt;(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\nnew Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\nj=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src=\n'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n})(window,document,'script','dataLayer','GTM-WSPHT2V');&lt;/script&gt;\n&lt;!-- End Google Tag Manager --&gt;\n</code></pre> <p>If possible, add this snippet just inside the opening <code>&lt;body&gt;</code> tag:</p> <pre><code>&lt;!-- Google Tag Manager (noscript) --&gt;\n&lt;noscript&gt;&lt;iframe src=\"https://www.googletagmanager.com/ns.html?id=GTM-WSPHT2V\"\nheight=\"0\" width=\"0\" style=\"display:none;visibility:hidden\"&gt;&lt;/iframe&gt;&lt;/noscript&gt;\n&lt;!-- End Google Tag Manager (noscript) --&gt;\n</code></pre>"},{"location":"gtm-scripts/kenvue-global-brand-gtm-code/#html-code-for-all-non-production-sites","title":"HTML Code For All Non-Production Sites","text":"<p>Add the following snippet to every page inside the <code>&lt;head&gt;</code> as high as possible:</p> <pre><code>&lt;!-- Google Tag Manager --&gt;\n&lt;script&gt;(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\nnew Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\nj=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src=\n'https://www.googletagmanager.com/gtm.js?id='+i+dl+ '&amp;gtm_auth=7DwgpYUaj4gvAHugt88AzA&amp;gtm_preview=env-3&amp;gtm_cookies_win=x';f.parentNode.insertBefore(j,f);\n})(window,document,'script','dataLayer','GTM-WSPHT2V');&lt;/script&gt;\n&lt;!-- End Google Tag Manager --&gt;\n</code></pre> <p>If possible, add this snippet just inside the opening <code>&lt;body&gt;</code> tag:</p> <pre><code>&lt;!-- Google Tag Manager (noscript) --&gt;\n&lt;noscript&gt;&lt;iframe src=\"https://www.googletagmanager.com/ns.html?id=GTM-WSPHT2V&amp;gtm_auth=7DwgpYUaj4gvAHugt88AzA&amp;gtm_preview=env-3&amp;gtm_cookies_win=x\"\nheight=\"0\" width=\"0\" style=\"display:none;visibility:hidden\"&gt;&lt;/iframe&gt;&lt;/noscript&gt;\n&lt;!-- End Google Tag Manager (noscript) --&gt;\n</code></pre> <p>Note</p> <p>The <code>noscript</code> tag is optional and primarily used for site ownership validation through Google Search Console (there are other ways of validating site ownership). If a user has JS turned off in the browser, the data layer will not work. The only GTM tags available through the iframe-loaded GTM container are custom image tags. More on the GTM noscript tag</p>"},{"location":"ot-snippet/kenvue-ot-snippet/","title":"Kenvue DXP OneTrust Snippet","text":"<p>This document is a quick reference to implement the OneTrust snippet across all Kenvue brand, HCP and corporate sites. For any questions regarding this content please contact Analytics Team - ra-jx2-cbi-digital06@kenvue.com</p>"},{"location":"ot-snippet/kenvue-ot-snippet/#html-code-for-all-production-sites","title":"HTML Code For All Production Sites","text":"<p>Add the following snippet to every page inside the <code>&lt;head&gt;</code>, as high as possible \u2014 it has to be fired before any other analytics snippets. First part, so called default consent state tag, is required, for every single site. Second part, control script, has to be added only if cookie banner is required to be displayed on the page (ie. for EU, CH, UK, BR, SA, US, CA, TH).</p> <pre><code>&lt;!-- Default consent tag --&gt;\n&lt;script&gt; \n  window.dataLayer = window.dataLayer || []; \n  function gtag(){dataLayer.push(arguments);}\n\n  gtag('consent', 'default', {\n        security_storage: \"&lt;SECURITY_STORAGE_DEFAULT_STATE&gt;\",\n        functionality_storage: \"&lt;FUNCTIONALITY_STORAGE_DEFAULT_STATE&gt;\",\n        analytics_storage: \"&lt;ANALYTICS_STORAGE_DEFAULT_STATE&gt;\",\n        ad_storage: \"&lt;AD_STORAGE_DEFAULT_STATE&gt;\", \n        ad_user_data: \"&lt;AD_DATA_DEFAULT_STATE&gt;\",\n        ad_personalization: \"&lt;AD_PERSONALIZATION_DEFAULT_STATE&gt;\",\n        personalization_storage: \"&lt;PERSONALIZATION_STORAGE_DEFAULT_STATE&gt;\",\n        wait_for_update: 500 \n  }); \n&lt;/script&gt;\n\n&lt;!-- OneTrust control script --&gt;\n&lt;script src=\"https://cdn.cookielaw.org/scripttemplates/otSDKStub.js\" data-document-language=\"true\" type=\"text/javascript\" charset=\"UTF-8\" data-domain-script=\"&lt;DOMAIN_ID&gt;\" &gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\nfunction OptanonWrapper() { }\n&lt;/script&gt;\n</code></pre>"},{"location":"ot-snippet/kenvue-ot-snippet/#variable-definitions","title":"Variable Definitions","text":"Field Type Value SECURITY_STORAGE_DEFAULT_STATE <code>string</code> Always \"granted\". FUNCTIONALITY_STORAGE_DEFAULT_STATE <code>string</code> Always \"granted\". ANALYTICS_STORAGE_DEFAULT_STATE <code>string</code> Determined by country domain. EU, CH, UK, BR, SA, US, CA, TH \u2014 \"denied\". All other \u2014 \"granted\". AD_STORAGE_DEFAULT_STATE <code>string</code> Determined by country domain. EU, CH, UK, BR, SA, US, CA, TH \u2014 \"denied\". All other \u2014 \"granted\". AD_DATA_DEFAULT_STATE <code>string</code> Determined by country domain. EU, CH, UK, BR, SA, US, CA, TH \u2014 \"denied\". All other \u2014 \"granted\". AD_PERSONALIZATION_DEFAULT_STATE <code>string</code> Determined by country domain. EU, CH, UK, BR, SA, US, CA, TH \u2014 \"denied\". All other \u2014 \"granted\". PERSONALIZATION_STORAGE_DEFAULT_STATE <code>string</code> Determined by country domain. EU, CH, UK, BR, SA, US, CA, TH \u2014 \"denied\". All other \u2014 \"granted\". DOMAIN_ID <code>string</code> OneTrust Domain ID generated in OneTrust admin panel."},{"location":"schemas/item/","title":"Item Object","text":"<p>An <code>item</code> is how GA4 refers to a product.  An item object should be sent whenever a product is displayed, selected, added to a cart, or purchased.</p> <p>DO NOT populate ANY item parameter with a string value if unavailable</p> <p>If the \"item_id\", \"item_name\", etc. is NOT available, DO NOT populate with an empty string (ex. \"\") or undefined as a string (ex. \"undefined\"). This value must ONLY be populated with valid values (ex. item_id: \"ABC123\", item_name: \"Hydro Boost Face Wash\", etc.). If this value is not available, then either DO NOT include the parameter in the data layer push or populate with an undefined object (not a string, ex. item_variant: undefined).</p>"},{"location":"schemas/item/#object-format","title":"Object format","text":"<pre><code>{\n  // Global\n  \"affiliation\": \"&lt;affiliation&gt;\",\n  \"gtin\": \"&lt;gtin&gt;\",\n  \"item_brand\": \"&lt;item_brand&gt;\",\n  \"item_category\": \"&lt;item_category&gt;\",\n  \"item_id\": \"&lt;item_id&gt;\",\n  \"item_name\": \"&lt;item_name&gt;\",\n  \"item_need_state\": \"&lt;item_need_state&gt;\",\n  \"item_subcategory\": \"&lt;item_subcategory&gt;\",\n  \"item_subsegment\": \"&lt;item_subsegment&gt;\",\n  \"item_upc\": \"&lt;item_upc&gt;\",\n  \"item_variant\": \"&lt;item_variant&gt;\",\n  \"price\": \"&lt;price&gt;\",\n  \"quantity\": \"&lt;quantity&gt;\",\n  \"sku\": \"&lt;sku&gt;\",\n\n  // Contextual\n  \"coupon\": \"&lt;coupon&gt;\",\n  \"discount\": \"&lt;discount&gt;\",\n  \"creative_name\": \"&lt;creative_name&gt;\",\n  \"creative_slot\": \"&lt;creative_slot&gt;\",\n  \"index\": \"&lt;index&gt;\",\n  \"item_list_id\": \"&lt;item_list_id&gt;\",\n  \"item_list_name\": \"&lt;item_list_name&gt;\",\n  \"item_out_of_stock\": \"&lt;item_out_of_stock&gt;\",\n  \"item_subscription_type\": \"&lt;item_subscription_type&gt;\",\n  \"location_id\": \"&lt;location_id&gt;\",\n  \"promotion_id\": \"&lt;promotion_id&gt;\",\n  \"promotion_name\": \"&lt;promotion_name&gt;\"\n}\n</code></pre>"},{"location":"schemas/item/#variable-definitions","title":"Variable definitions","text":"Name Type Required Description Example Value Maximum Length <code>affiliation</code> string required A product affiliation to designate a supplying company or brick and mortar store location. <code>Google Store</code> 100 <code>coupon</code> string contextual Coupon code used for a purchase. <code>SUMMER_FUN</code> 100 <code>creative_name</code> string required if item is being sent with a promotion event The name of a creative used in a promotional spot. <code>summer_banner2</code> 100 <code>creative_slot</code> string required if item is being sent with a promotion event The name of a creative slot. <code>featured_app_1</code> 100 <code>discount</code> number contextual Monetary value of discount associated with a purchase. <code>2.22</code> 100 <code>gtin</code> string required A Global Trade Item Number (GTIN). GTINs identify trade items, including products and services, using numeric identification codes. UPCs are a type of GTIN, so they should be added via this parameter. <code>012345678905</code> <code>index</code> number contextual The index/position of the item in a list. <code>2</code> 100 <code>item_brand</code> string required Item brand <code>Gucci</code> 100 <code>item_category</code> string required Item Category (context-specific). <code>pants</code> 100 <code>item_id</code> string required Item ID (context-specific). <code>item_id</code> should be the item's UPC code, if available. If UPC is not available, <code>item_id</code> should be the item's SKU ID. If neither UPC nor SKU are available, the value should be an empty string. <code>UPC12345</code>, <code>SKU12345</code>, <code>\"\"</code> 100 <code>item_list_id</code> string contextual The computer-readable machine name of the list the item showed up in (if sent with a view_item_list event). Use UUID provided by the component if no more specific ID is available. <code>12345abcde12345</code> 100 <code>item_list_name</code> string contextual The human-readable name of the item list the item showed up in (if sent with a view_item_list event). If one is not available, populate with numerical index of which list this is on the page (1-indexed). For <code>filter_by_group</code> component, use that value. <code>filter_by_group</code>, <code>recommended_products</code>, <code>recently_viewed_products</code> 100 <code>item_name</code> string required Item Name (context-specific). <code>jeggings</code> 100 <code>item_need_state</code> string required Item Need State (context-specific). <code>**NEED EXAMPLES FROM STEVEN FOR DOCUMENTATION**</code> 100 <code>item_out_of_stock</code> string contextual Send as true if an item is out of stock. You should exclude this parameter if the item is in stock. <code>true</code> 100 <code>item_subcategory</code> string required Item Sub-Category (context-specific). <code>facial moisturizers &amp; serums</code>, <code>best sellers</code>, <code>new</code> 100 <code>item_subsegment</code> string required Item Sub-Segment (context-specific). <code>**NEED EXAMPLES FROM STEVEN FOR DOCUMENTATION**</code> 100 <code>item_subscription_type</code> string contextual Item Subscription Type. The subscription type when a user chooses to subscribe to a product being sent multiple times after their purchase. <code>3-months</code>, <code>6-months</code>, <code>9-months</code> 100 <code>item_upc</code> string contextual UPC ID of the product a customer would be calling a store about. <code>012345678905</code> 100 <code>item_variant</code> string required The variant of the item. <code>Black</code> 100 <code>location_id</code> string required if the item is associated with a physical location The location associated with the event. If possible, set to the Google Place ID that corresponds to the associated item. Can also be overridden to a custom location ID string. <code>L_12345</code> 100 <code>price</code> number required The monetary price of the item, in units of the specified currency parameter. <code>9.99</code> 100 <code>promotion_id</code> string required if item is being sent with a promotion event The ID of a product promotion. <code>P_12345</code> 100 <code>promotion_name</code> string required if item is being sent with a promotion event The name of a product promotion. One of <code>promotion_id</code> or <code>promotion name</code> is required. <code>Summer Sale</code> 100 <code>quantity</code> integer required Item quantity. <code>1</code> 100 <code>sku</code> string contextual The item's stock-keeping unit (SKU) ID, when available. <code>SKU12345</code> 100"}]}